<?xml version="1.0" encoding="utf-8"?>


<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-US">
    <title type="text">MrSheep&#39;s Blog</title>
    <subtitle type="html">Personal Blog from MrSheep.</subtitle>
    <updated>2019-11-28T13:03:35+08:00</updated>
    <id>https://blog.mrsheep.xyz/</id>
    <link rel="alternate" type="text/html" href="https://blog.mrsheep.xyz/" />
    <link rel="self" type="application/atom+xml" href="https://blog.mrsheep.xyz/atom.xml" />
    <author>
            <name>MrSheep</name>
            <uri>https://blog.mrsheep.xyz/</uri>
            
                <email>admin@mrsheep.xyz</email>
            </author>
    <rights>![CC BY-NC-SA 4.0](https://mirrors.creativecommons.org/presskit/buttons/88x31/svg/by-nc-sa.svg)  ![996 ICU](https://img.shields.io/badge/link-996.icu-red.svg)</rights>
    <generator uri="https://gohugo.io/" version="0.59.1">Hugo</generator>
        <entry>
            <title type="text">Java Split Digit</title>
            <link rel="alternate" type="text/html" href="https://blog.mrsheep.xyz/posts/java-split-digit/" />
            <id>https://blog.mrsheep.xyz/posts/java-split-digit/</id>
            <updated>2019-11-28T10:07:59+08:00</updated>
            <published>2019-11-28T09:22:17+08:00</published>
            <author>
                    <name>MrSheep</name>
                    <uri>https://blog.mrsheep.xyz</uri>
                    <email>admin@mrsheep.xyz</email>
                    </author>
            <rights>![CC BY-NC-SA 4.0](https://mirrors.creativecommons.org/presskit/buttons/88x31/svg/by-nc-sa.svg)  ![996 ICU](https://img.shields.io/badge/link-996.icu-red.svg)</rights><summary type="html"><![CDATA[é€™æ˜¯æ°´æ–‡ğŸ˜‚
çœŸçš„æ˜¯ä¸€ç¯‡æ°´æ–‡
ä¸»è¦æ˜¯æˆ‘æƒ³ä¸åˆ°è¦å¯«ç”šéº¼äº†]]></summary>
            
                <content type="html"><![CDATA[<p>é€™æ˜¯æ°´æ–‡ğŸ˜‚</p>

<p>çœŸçš„æ˜¯ä¸€ç¯‡æ°´æ–‡</p>

<p>ä¸»è¦æ˜¯æˆ‘æƒ³ä¸åˆ°è¦å¯«ç”šéº¼äº†</p>

<h1 id="toc_0">ğŸ˜€</h1>

<p>ä¸»è¦æ˜¯AMC10æœ‰ä¸€é“é¡Œï¼Œ1000åˆ°2013ä¸­ï¼Œå¤šå°‘æ•¸å­—å‰ä¸‰ä½ï¼ˆåƒï¼Œç™¾ï¼Œåï¼‰ç›¸åŠ ä¹‹å’Œçˆ²å€‹ä½æ•¸</p>

<p>ç„¶å¾Œã€‚ã€‚ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="err">import java</span><span class="p">.</span><span class="na">util</span><span class="p">.</span><span class="o">*</span><span class="p">;</span>
<span class="err">public class </span><span class="n">Tester</span> <span class="p">{</span>

	<span class="err">public static void main</span><span class="p">(</span><span class="err">String[] args</span><span class="p">)</span> <span class="p">{</span>
		<span class="err">int count </span><span class="o">=</span> <span class="n">0</span><span class="p">;</span>
		<span class="k">for</span> <span class="p">(</span><span class="err">int i</span><span class="o">=</span><span class="n">1000</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">2014</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
			<span class="err">ArrayList&lt;Integer&gt; num  </span><span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="p">();</span>
			<span class="err">int number </span><span class="o">=</span> <span class="n">i</span><span class="p">;</span>
			<span class="k">while</span> <span class="p">(</span><span class="n">number</span> <span class="o">!=</span> <span class="n">0</span><span class="p">)</span> <span class="p">{</span>
				<span class="n">num</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">number</span> <span class="o">%</span> <span class="n">10</span><span class="p">);</span>
				<span class="n">number</span> <span class="o">=</span> <span class="n">number</span> <span class="o">/</span> <span class="n">10</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="k">if</span> <span class="p">((</span><span class="n">num</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">3</span><span class="p">)</span><span class="o">+</span><span class="n">num</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">2</span><span class="p">)</span><span class="o">+</span><span class="n">num</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">1</span><span class="p">))</span><span class="o">==</span><span class="n">num</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">0</span><span class="p">))</span> <span class="p">{</span>
					<span class="n">count</span> <span class="o">++</span><span class="p">;</span>
					<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">num</span><span class="p">);</span>
			<span class="p">}</span>
		<span class="p">}</span>
		<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">count</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>]]></content>
            
            
            
            
            
                
                    
                
                    
                
            
        </entry>
    
        <entry>
            <title type="text">Powered By HUGO</title>
            <link rel="alternate" type="text/html" href="https://blog.mrsheep.xyz/posts/hugo/" />
            <id>https://blog.mrsheep.xyz/posts/hugo/</id>
            <updated>2019-11-27T14:56:48+08:00</updated>
            <published>2019-11-27T12:58:53+08:00</published>
            <author>
                    <name>MrSheep</name>
                    <uri>https://blog.mrsheep.xyz</uri>
                    <email>admin@mrsheep.xyz</email>
                    </author>
            <rights>![CC BY-NC-SA 4.0](https://mirrors.creativecommons.org/presskit/buttons/88x31/svg/by-nc-sa.svg)  ![996 ICU](https://img.shields.io/badge/link-996.icu-red.svg)</rights><summary type="html"><![CDATA[åšå®¢æ­£å¼é·ç§»åˆ°äº†Hugoä¸Šï¼ŒHugoæ˜¯ä½¿ç”¨GOèªè¨€é–‹ç™¼çš„SSGï¼ˆéœæ…‹ç¶²ç«™ç”Ÿæˆå™¨ï¼‰ï¼Œå®˜æ–¹ç¨±â€œThe worldâ€™s fastest framework for building websitesâ€. ä¸åŒæ–¼Hexoçš„æ˜¯ï¼ŒHugoæ˜¯ä¸€å€‹ç¶²ç«™çš„æ¡†æ¶ï¼Œçˆ¾Hexoåƒ…åƒ…æ˜¯åšå®¢çš„æ¡†æ¶ã€‚
â€œLetâ€™s Encryptâ€ï¼Œ â€œ1Password Supportâ€ï¼Œâ€œCloudFlare Developerâ€ç­‰å‡æ˜¯ç”¨Hugoé–‹æ”¾
æ›´å¤šçš„å¯¦ä¾‹å¯ä»¥åƒè€ƒå®˜æ–¹Showcase]]></summary>
            
                <content type="html"><![CDATA[<p>åšå®¢æ­£å¼é·ç§»åˆ°äº†Hugoä¸Šï¼Œ<a href="https://gohugo.io/" target="_blank">Hugo</a>æ˜¯ä½¿ç”¨GOèªè¨€é–‹ç™¼çš„SSGï¼ˆéœæ…‹ç¶²ç«™ç”Ÿæˆå™¨ï¼‰ï¼Œå®˜æ–¹ç¨±â€œThe worldâ€™s fastest framework for building websitesâ€. ä¸åŒæ–¼Hexoçš„æ˜¯ï¼ŒHugoæ˜¯ä¸€å€‹ç¶²ç«™çš„æ¡†æ¶ï¼Œçˆ¾Hexoåƒ…åƒ…æ˜¯åšå®¢çš„æ¡†æ¶ã€‚</p>

<p>â€œLet&rsquo;s Encryptâ€ï¼Œ â€œ1Password Supportâ€ï¼Œâ€œCloudFlare Developerâ€ç­‰å‡æ˜¯ç”¨Hugoé–‹æ”¾</p>

<p>æ›´å¤šçš„å¯¦ä¾‹å¯ä»¥åƒè€ƒ<a href="https://gohugo.io/showcase/" target="_blank">å®˜æ–¹Showcase</a></p>

<h1 id="æ–‡ä»¶çµæ§‹">æ–‡ä»¶çµæ§‹</h1>

<p>æ–‡ä»¶çµæ§‹ç›¸æ¯”è¼ƒæ–¼Hexoç°¡æ½”äº†ä¸å°‘ï¼Œä¸»é¡Œæ¡ç”¨submoduleçš„æ–¹å¼å®‰è£å³å¯ï¼Œå…å»äº†ä¹‹å‰Hexoä¸‹ä¸»é¡Œ.gitæ–‡ä»¶å¤¾éœ€è¦åˆªé™¤çš„å•é¡Œã€‚ä»¥æˆ‘ç”¨çš„MemEä¸»é¡Œçˆ²ä¾‹ï¼Œæ¨¹ç‹€åœ–å¦‚ä¸‹</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-basic" data-lang="basic"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-basic" data-lang="basic"><span class="vg">tree</span>
<span class="vg">Folder</span><span class="w"> </span><span class="vg">PATH</span><span class="w"> </span><span class="vg">listing</span>
<span class="vg">Volume</span><span class="w"> </span><span class="vg">serial</span><span class="w"> </span><span class="vg">number</span><span class="w"> </span><span class="vg">is</span><span class="w"> 
</span><span class="w"></span><span class="nl">C:</span><span class="o">.</span>
<span class="err">â”œâ”€â”€â”€</span><span class="vg">archetypes</span>
<span class="err">â”œâ”€â”€â”€</span><span class="vg">content</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€â”€</span><span class="vg">about</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€â”€</span><span class="vg">posts</span>
<span class="err">â”œâ”€â”€â”€</span><span class="vg">data</span>
<span class="err">â”œâ”€â”€â”€</span><span class="vg">layouts</span>
<span class="err">â”œâ”€â”€â”€</span><span class="vg">public</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€â”€</span><span class="vg">about</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€â”€</span><span class="vg">categories</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€â”€</span><span class="vg">css</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€â”€</span><span class="vg">fonts</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€â”€</span><span class="vg">icons</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€â”€</span><span class="vg">js</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€â”€</span><span class="vg">page</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€â”€</span><span class="il">1</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€â”€</span><span class="il">2</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€â”€</span><span class="vg">posts</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€â”€</span><span class="vg">tags</span>
<span class="err">â”œâ”€â”€â”€</span><span class="vg">resources</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€â”€</span><span class="vg">_gen</span>
<span class="err">â”‚</span><span class="w">       </span><span class="err">â”œâ”€â”€â”€</span><span class="vg">assets</span>
<span class="err">â”‚</span><span class="w">       </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€â”€</span><span class="vg">scss</span>
<span class="err">â”‚</span><span class="w">       </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â””â”€â”€â”€</span><span class="vg">scss</span>
<span class="err">â”‚</span><span class="w">       </span><span class="err">â””â”€â”€â”€</span><span class="vg">images</span>
<span class="err">â”œâ”€â”€â”€</span><span class="vg">static</span>
<span class="err">â””â”€â”€â”€</span><span class="vg">themes</span>
<span class="w">    </span><span class="err">â”œâ”€â”€â”€</span><span class="vg">hugo</span><span class="o">-</span><span class="vg">notice</span>
<span class="w">    </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€â”€</span><span class="vg">i18n</span>
<span class="w">    </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€â”€</span><span class="vg">layouts</span>
<span class="w">    </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â””â”€â”€â”€</span><span class="vg">shortcodes</span>
<span class="w">    </span><span class="err">â””â”€â”€â”€</span><span class="vg">meme</span>
<span class="w">        </span><span class="err">â”œâ”€â”€â”€</span><span class="vg">assets</span>
<span class="w">        </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€â”€</span><span class="vg">js</span>
<span class="w">        </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€â”€</span><span class="vg">scss</span>
<span class="w">        </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â”œâ”€â”€â”€</span><span class="vg">_common</span>
<span class="w">        </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€â”€</span><span class="vg">_highlight</span>
<span class="w">        </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€â”€</span><span class="vg">_page</span>
<span class="w">        </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â”œâ”€â”€â”€</span><span class="vg">_custom</span>
<span class="w">        </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â””â”€â”€â”€</span><span class="vg">_variables</span>
<span class="w">        </span><span class="err">â”œâ”€â”€â”€</span><span class="vg">config</span><span class="o">-</span><span class="vg">examples</span>
<span class="w">        </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€â”€</span><span class="vg">en</span><span class="o">-</span><span class="vg">us</span>
<span class="w">        </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€â”€</span><span class="vg">zh</span><span class="o">-</span><span class="vg">cn</span>
<span class="w">        </span><span class="err">â”œâ”€â”€â”€</span><span class="vg">data</span>
<span class="w">        </span><span class="err">â”œâ”€â”€â”€</span><span class="vg">exampleSite</span>
<span class="w">        </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€â”€</span><span class="vg">resources</span>
<span class="w">        </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â””â”€â”€â”€</span><span class="vg">_gen</span>
<span class="w">        </span><span class="err">â”‚</span><span class="w">           </span><span class="err">â””â”€â”€â”€</span><span class="vg">assets</span>
<span class="w">        </span><span class="err">â”‚</span><span class="w">               </span><span class="err">â””â”€â”€â”€</span><span class="vg">scss</span>
<span class="w">        </span><span class="err">â”‚</span><span class="w">                   </span><span class="err">â””â”€â”€â”€</span><span class="vg">scss</span>
<span class="w">        </span><span class="err">â”œâ”€â”€â”€</span><span class="vg">i18n</span>
<span class="w">        </span><span class="err">â”œâ”€â”€â”€</span><span class="vg">images</span>
<span class="w">        </span><span class="err">â”œâ”€â”€â”€</span><span class="vg">layouts</span>
<span class="w">        </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€â”€</span><span class="vg">partials</span>
<span class="w">        </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€â”€</span><span class="vg">components</span>
<span class="w">        </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€â”€</span><span class="vg">third</span><span class="o">-</span><span class="vg">party</span>
<span class="w">        </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€â”€</span><span class="vg">tree</span>
<span class="w">        </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€â”€</span><span class="vg">section</span>
<span class="w">        </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€â”€</span><span class="vg">taxonomy</span>
<span class="w">        </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€â”€</span><span class="vg">_default</span>
<span class="w">        </span><span class="err">â””â”€â”€â”€</span><span class="vg">static</span>
<span class="w">            </span><span class="err">â”œâ”€â”€â”€</span><span class="vg">fonts</span>
<span class="w">            </span><span class="err">â””â”€â”€â”€</span><span class="vg">icons</span></code></pre></td></tr></table>
</div>
</div>
<p>å¦‚æœç²¾ç°¡ä¸€ä¸‹çš„è©±å°±æ˜¯</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-visual basic" data-lang="visual basic"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-visual basic" data-lang="visual basic">â”œâ”€â”€â”€archetypes                                                                     â”œâ”€â”€â”€content                                                                       
â”œâ”€â”€â”€data                                                                           â”œâ”€â”€â”€layouts                                                                       
â”œâ”€â”€â”€public
â”œâ”€â”€â”€resources
â”œâ”€â”€â”€static
â””â”€â”€â”€themes</code></pre></td></tr></table>
</div>
</div>
<h2 id="é·ç§»">é·ç§»</h2>

<p>å…¶å¯¦ï¼Œå› çˆ²é·ç§»çš„æ™‚å€™æˆ‘çš„ç­†é›»æ­£åœ¨ç¶­ä¿®ï¼Œæ‰€ä»¥æˆ‘æ˜¯è¤‡è£½ç²˜è²¼çš„ã€‚ã€‚ã€‚</p>

<h2 id="meme">MemE</h2>

<p><strong>MemE</strong>æ˜¯ä¸€å€‹ååˆ†ç°¡æ½”ä½†æ˜¯ååˆ†å¼·å¤§çš„Hugoä¸»é¡Œï¼Œç”±<a href="https://io-oi.me/tech/documentation-of-hugo-theme-meme/" title="Hugo ä¸»é¢˜ MemE æ–‡æ¡£" target="_blank">reuixiy | ä¸€ä¼‘çˆ¾</a>é–‹ç™¼ï¼Œçˆ²å€‹äººåšå®¢è¨­è¨ˆ.</p>

<p>æ­£å¦‚ä½œè€…å¯«åˆ°â€œMemEä¸»é¡Œå°æ–¼ç¿’æ…£äº†Hexoçš„ç”¨æˆ¶éå¸¸å‹å¥½ï¼Œæ˜¯å¾HexoéŒ¢ä¸€é“Hugoçš„ä¸éŒ¯é¸æ“‡â€ï¼ŒMemEçš„é…ç½®ååˆ†çš„æ–¹ä¾¿</p>

<h3 id="ä¸€äº›ä¿®æ”¹">ä¸€äº›ä¿®æ”¹</h3>

<h4 id="å­—é«”">å­—é«”</h4>

<p>æ”¯æŒèª¿ç”¨Google Fonté€™é¡çš„å­—é«”ï¼Œåªéœ€è¦æ›´æ”¹ä¸»é¡Œæ–‡ä»¶ä¸­çš„<code>Font Family</code>éƒ¨åˆ†å³å¯ã€‚å¦‚ä¸‹</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-toml" data-lang="toml"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-toml" data-lang="toml"><span class="c">## Font Family</span>

    <span class="c"># Note: any option is empty(&#34;&#34;),</span>
    <span class="c">#       fallback to `fontFamilyBody`</span>
    <span class="c">#       it will. Therefore, it is not</span>
    <span class="c">#       necessary to set all.</span>
    <span class="c">#       Additionally, you can leave</span>
    <span class="c">#       `fontFamilySiteBrand` empty(&#34;&#34;)</span>
    <span class="c">#       if you use SVG as your site</span>
    <span class="c">#       brand.</span>

    <span class="c"># Site brand</span>
    <span class="nx">fontFamilySiteBrand</span> <span class="p">=</span> <span class="s2">&#34;&#34;</span>
    <span class="c"># Menu bar</span>
    <span class="nx">fontFamilyMenu</span> <span class="p">=</span> <span class="s2">&#34;&#34;</span>
    <span class="c"># Post title, post subtitle, list title, year and month title of the list, related posts title, previous/next post title</span>
    <span class="nx">fontFamilyTitle</span> <span class="p">=</span> <span class="s2">&#34;Kalam, sans-serif&#34;</span>
    <span class="c"># Headings, toc title</span>
    <span class="nx">fontFamilyHeadings</span> <span class="p">=</span> <span class="s2">&#34;Noto Serif TC, serif&#34;</span>
    <span class="c"># Code, superscript, post meta info, post updated badge, post gitinfo, minimal footer</span>
    <span class="nx">fontFamilyCode</span> <span class="p">=</span> <span class="s2">&#34;&#39;Source Code Pro&#39;, monospace&#34;</span>
    <span class="c"># Blockquotes</span>
    <span class="nx">fontFamilyQuote</span> <span class="p">=</span> <span class="s2">&#34;&#34;</span>
    <span class="c"># Table of contents</span>
    <span class="nx">fontFamilyTOC</span> <span class="p">=</span> <span class="s2">&#34;&#34;</span>
    <span class="c"># Caption</span>
    <span class="nx">fontFamilyCaption</span> <span class="p">=</span> <span class="s2">&#34;&#34;</span>
    <span class="c"># Footer</span>
    <span class="nx">fontFamilyFooter</span> <span class="p">=</span> <span class="s2">&#34;&#34;</span>
    <span class="c"># Body</span>
    <span class="c"># Text font</span>
    <span class="nx">fontFamilyBody</span> <span class="p">=</span> <span class="s2">&#34;&#39;Noto Serif TC&#39;, serif&#34;</span>

    <span class="c"># Embed fonts link</span>

    <span class="nx">fontsLink</span> <span class="p">=</span> <span class="s2">&#34;https://fonts.googleapis.com/css?family=Noto+Serif+TC:600,700|Source+Code+Pro:400,400i,700,700i|ZCOOL+XiaoWei|Kalam:700&amp;display=swap&#34;</span></code></pre></td></tr></table>
</div>
</div>
<p>å¾…æ›´</p>]]></content>
            
            
            
            
            
                
                    
                
                    
                
            
        </entry>
    
        <entry>
            <title type="text">Surge 3 CFG</title>
            <link rel="alternate" type="text/html" href="https://blog.mrsheep.xyz/posts/surge-3-cfg/" />
            <id>https://blog.mrsheep.xyz/posts/surge-3-cfg/</id>
            <updated>2019-11-27T11:34:08+08:00</updated>
            <published>2019-11-27T09:35:37+08:00</published>
            <author>
                    <name>MrSheep</name>
                    <uri>https://blog.mrsheep.xyz</uri>
                    <email>admin@mrsheep.xyz</email>
                    </author>
            <rights>![CC BY-NC-SA 4.0](https://mirrors.creativecommons.org/presskit/buttons/88x31/svg/by-nc-sa.svg)  ![996 ICU](https://img.shields.io/badge/link-996.icu-red.svg)</rights><summary type="html"><![CDATA[Surgeæ˜¯ä¸€å€‹åŠŸèƒ½ååˆ†å¼·å¤§çš„ç¶²çµ¡å·¥å…·ç®±ï¼Œå¯ä»¥ä½œç‚ºé«˜æ€§èƒ½çš„HTTPå’ŒSOCKSä»£ç†æœå‹™å™¨ã€‚å¯ä»¥å®ŒæˆæŠ“åŒ…ï¼Œåˆ†æç­‰å·¥ä½œï¼Œ æ”¯æŒè¦å‰‡ä»£ç†ï¼Œæ”¯æŒå¤šç¨®ä»£ç†ï¼ˆæ”¯æŒV2Rayï¼‰ã€‚ä¸¦åŒ…æ‹¬åŸºæ–¼TLSçš„HTTP(s), Socks5ç­‰]]></summary>
            
                <content type="html"><![CDATA[<p>Surgeæ˜¯ä¸€å€‹åŠŸèƒ½ååˆ†å¼·å¤§çš„ç¶²çµ¡å·¥å…·ç®±ï¼Œå¯ä»¥ä½œç‚ºé«˜æ€§èƒ½çš„HTTPå’ŒSOCKSä»£ç†æœå‹™å™¨ã€‚å¯ä»¥å®ŒæˆæŠ“åŒ…ï¼Œåˆ†æç­‰å·¥ä½œï¼Œ
æ”¯æŒè¦å‰‡ä»£ç†ï¼Œæ”¯æŒå¤šç¨®ä»£ç†ï¼ˆæ”¯æŒV2Rayï¼‰ã€‚ä¸¦åŒ…æ‹¬åŸºæ–¼TLSçš„HTTP(s), Socks5ç­‰</p>

<h1 id="çˆ²ç”šéº¼ä½¿ç”¨surge">çˆ²ç”šéº¼ä½¿ç”¨Surge</h1>

<p>æˆ‘çŸ¥é“æœ‰ä¸€å¤§æŠŠé–‹æºé …ç›®ï¼Œæ¯”å¦‚åšçš„éå¸¸å¥½çš„Clashï¼Œä¸¦ä¸”æœ‰MacOSçš„Dashboardï¼Œä½†æ˜¯ç”±æ–¼ç›®å‰ä»å‡ºæ–¼Pre-Releaseéšæ®µï¼Œéƒ¨åˆ†åŠŸèƒ½ä¸¦ä¸å®Œå–„å’Œç©©å®š
ç›¸æ¯”è¼ƒä¸‹ï¼ŒSurgeä½œç‚ºä¸€å€‹ä»˜è²»è»Ÿä»¶ï¼Œå®¢æœæ”¯æŒåšçš„æ›´å¥½ï¼ˆäº¤äº†éŒ¢ç•¶ç„¶å¥½ï¼‰
ä½†æ˜¯æ›´é‡è¦çš„ï¼Œæ˜¯Surgeä½œç‚ºç¶²é—œä½¿ç”¨æœƒæ¯”Clashæ›´åŠ çš„å¼·å¤§ï¼Œç”¨æˆ¶ç•Œé¢çœ‹è‘—æ›´åŠ çš„å®Œå–„ï¼Œæœ‰å®Œæ•´çš„User Manual,æ”¯æŒMitMå’ŒæŠ“åŒ…ç­‰
ç®—äº†æˆ‘ç·¨ä¸ä¸‹å»äº†ï¼Œåæ­£å¥½ç”¨å°±è¡Œäº†
é—œæ–¼è³¼è²·é€™ä¸€å¡Šå…’ï¼Œåˆ¥å»æ‰¾ç›œç‰ˆäº†ï¼Œæ‰¾ä¸åˆ°çš„</p>

<h2 id="ç„¡é™è©¦ç”¨">ç„¡é™è©¦ç”¨</h2>

<p>é€šéæ›´æ”¹ç³»çµ±æ™‚é–“çš„æ–¹æ³•å¯ä»¥ç²å¾—ç„¡é™çš„ä½¿ç”¨ï¼Œä½†æ˜¯é€™æ¨£åšæœƒç„¡æ³•å•Ÿå‹•Dashboard,ä¸æ¸…æ¥šæ˜¯ä¸æ˜¯å› ç‚ºè©¦ç”¨ç‰ˆçš„åŸå› </p>

<h1 id="é…ç½®">é…ç½®</h1>

<p>åŸºæœ¬çš„é…ç½®æ•™ç¨‹å®˜æ–¹å¯«çš„ååˆ†çš„è©³ç´°ï¼Œå¯ä»¥ç›´æ¥åƒè€ƒ<a href="https://manual.nssurge.com/" target="_blank">nssurge manual</a>
æˆ‘åªå¯«ä¸€äº›ï¼Œç•¢ç«Ÿäººå®¶å¤§ä½¬å¯«äº†é‚£éº¼å¤š</p>

<h2 id="dns">DNS</h2>

<p>Surgeæ”¯æŒDoHï¼Œä½¿ç”¨æ–¹æ³•ç‚ºç›´æ¥åœ¨<code>DNS</code>é…ç½®ä¸­æ·»åŠ ï¼Œæˆ–è€…æ˜¯ç›´æ¥ä¿®æ”¹é…ç½®æ–‡ä»¶
åœ¨é ­éƒ¨ <code>[General]</code> éƒ¨åˆ†æ·»åŠ :
<code>dns-server = ä½ æŒ‡å®šçš„dnsæœå‹™å™¨</code>,
ä½†æ˜¯æ”¯æŒDoHçš„å¤§å¤šåœ¨CNæ²’æœ‰æœå‹™å™¨ï¼Œå»¶é²æ¯”è¼ƒé«˜ï¼Œä½†æ˜¯è§£æ±ºäº†DNSæŠ•æ¯’çš„å•é¡Œ,ä¸€ä¸‹åˆ—éƒ¨åˆ†æ”¯æŒDoHçš„æœå‹™å•†</p>

<ol>
<li><a href="https://cloudflare-dns.com/dns-query" target="_blank">https://cloudflare-dns.com/dns-query</a></li>
<li><a href="https://1.1.1.1/dns-query" target="_blank">https://1.1.1.1/dns-query</a> //1.1.1.1é€™å€‹åœ°å€å¾ˆå¯èƒ½æœƒè¢«ä½œç‚ºä¿ç•™åœ°å€ï¼Œæ¯”å¦‚èªªæŸç‚º</li>
<li><a href="https://dns.google.com/resolve" target="_blank">https://dns.google.com/resolve</a></li>
<li><a href="https://8.8.8.8/dns-query" target="_blank">https://8.8.8.8/dns-query</a></li>
<li><a href="https://dns.quad9.net/dns-query" target="_blank">https://dns.quad9.net/dns-query</a></li>
<li><a href="https://9.9.9.9/dns-query" target="_blank">https://9.9.9.9/dns-query</a></li>
<li><a href="https://dns.rubyfish.cn/dns-query" target="_blank">https://dns.rubyfish.cn/dns-query</a></li>
</ol>

<p>Surge Enhanced modeæ¡ç”¨Fakeipæ¨¡å¼ï¼Œé›–ç„¶ç®—æ˜¯è§£æ±ºäº†æ±¡æŸ“çš„å•é¡Œï¼Œä½†æ˜¯å¦‚æœSurgeç›®å‰ä¸¦æ²’æœ‰å¯¦ç¾DNSâ€œåˆ†æµâ€é€™é …åŠŸèƒ½ï¼Œå€‹äººè¦ºå¾—å¯ä»¥é…åˆå¤–ç½®DNSä¾†è§£æ±ºå•é¡Œ
<strong>Overture</strong> å¯ä»¥å¾ˆå¥½çš„è§£æ±ºé€™å€‹å•é¡Œï¼ŒOvertureåƒ…æ”¯æŒDoTï¼ˆDNS over TLSï¼‰,é—œæ–¼DoHå’ŒDoTï¼Œå¯ä»¥åƒè€ƒ<a href="https://www.reddit.com/r/privacy/comments/89pr15/dnsoverhttps_vs_dns_overtls_vs_dnscrypt/" target="_blank">Redditä¸Šçš„å¸–å­</a>
é—œæ–¼DoTå’ŒDoHèª°æ›´å¥½å·²ç¶“çˆ­è«–äº†å¾ˆä¹…äº†
é—œæ–¼Overtureå¦‚ä½•é…ç½®ï¼Œè«‹åƒè¦‹å¦ä¸€ç¯‡æ–‡ç« </p>

<h2 id="v2ray">V2Ray</h2>

<p>Surgeå¾3.3.1ç‰ˆæœ¬ï¼ˆæ‡‰è©²æ˜¯ï¼‰é–‹å§‹æ”¯æŒåŸç”ŸV2Rayï¼Œä¸å†éœ€è¦External-Proxyæˆ–è€…æ˜¯å‰ç½®ä»£ç†å¯¦ç¾
æ ¼å¼å¦‚ä¸‹</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="nv">ä½ çš„ä»£ç†åå­—</span> <span class="o">=</span> vmess, æœå‹™å™¨åœ°å€, ç«¯å£, <span class="nv">username</span><span class="o">=</span>uuid, <span class="nv">tls13</span><span class="o">=</span>true, <span class="nv">ws</span><span class="o">=</span>true, ws-path<span class="o">=</span>è·¯å¾‘</code></pre></td></tr></table>
</div>
</div>
<p>æ³¨ï¼š</p>

<ol>
<li><code>tls13 = true</code> å³å¼·åˆ¶ä½¿ç”¨tls1.3ï¼Œä½¿ç”¨å‰è«‹<strong>ç¢ºèªæ”¯æŒ</strong>ï¼Œå¦‚æœ<strong>ä¸æ”¯æŒ</strong>,è«‹å°‡è©²å‘½ä»¤æ”¹æˆ<code>tls = true</code>ä¾†å•Ÿå‹•tls</li>
<li>å¦‚æœä½ ä¸éœ€è¦é©—è­‰è­‰æ›¸ï¼Œå¯ä»¥æŠŠè­‰æ›¸æ·»åŠ é€²å…¥macçš„<strong>é‘°åŒ™ä¸²</strong>,æˆ–è€…ä½ è‡ªå·±ç ”ç©¶æ€éº¼è·³éé©—è­‰</li>
<li><code>ws-header</code>å¦‚æœæœ‰éœ€è¦ï¼Œå¯ä»¥å–®ç¨è¨­ç½®ï¼Œå…·é«”è«‹åƒè¦‹å®˜æ–¹<a href="https://community.nssurge.com/" target="_blank">Community</a></li>
</ol>]]></content>
            
            
            
            
            
                
                    
                
                    
                
            
        </entry>
    
        <entry>
            <title type="text">Overture é…ç½®</title>
            <link rel="alternate" type="text/html" href="https://blog.mrsheep.xyz/posts/overture-cfg/" />
            <id>https://blog.mrsheep.xyz/posts/overture-cfg/</id>
            <updated>2019-11-16T17:57:52+08:00</updated>
            <published>2019-11-16T17:04:11+08:00</published>
            <author>
                    <name>MrSheep</name>
                    <uri>https://blog.mrsheep.xyz</uri>
                    <email>admin@mrsheep.xyz</email>
                    </author>
            <rights>![CC BY-NC-SA 4.0](https://mirrors.creativecommons.org/presskit/buttons/88x31/svg/by-nc-sa.svg)  ![996 ICU](https://img.shields.io/badge/link-996.icu-red.svg)</rights><summary type="html"><![CDATA[Overtureæ˜¯ä¸€å€‹ç”±GOç·¨å¯«çš„DNSï¼Œè·¨å¹³å°å…¼å®¹ï¼Œèƒ½å¤ å¾ˆå¥½çš„å¯¦ç¾æˆ‘åˆ†æµçš„éœ€æ±‚ï¼Œç›¸æ¯”ä¸CoreDNSæ— è®ºå¦‚ä½•æˆ‘éƒ½ç·¨è­¯ä¸æˆåŠŸçš„proxyæ’ä»¶ï¼Œå¯¦åœ¨æ˜¯ä¾¿æ·äº†å¾ˆå¤š]]></summary>
            
                <content type="html"><![CDATA[<p>Overtureæ˜¯ä¸€å€‹ç”±GOç·¨å¯«çš„DNSï¼Œè·¨å¹³å°å…¼å®¹ï¼Œèƒ½å¤ å¾ˆå¥½çš„å¯¦ç¾æˆ‘åˆ†æµçš„éœ€æ±‚ï¼Œç›¸æ¯”ä¸CoreDNSæ— è®ºå¦‚ä½•æˆ‘éƒ½ç·¨è­¯ä¸æˆåŠŸçš„proxyæ’ä»¶ï¼Œå¯¦åœ¨æ˜¯ä¾¿æ·äº†å¾ˆå¤š</p>

<h2 id="features">Features</h2>

<p>æ‘˜è‡ª<a href="https://github.com/shawn1m/overture" target="_blank">github.com/shawn1m/overture</a></p>

<ul>
<li>Full IPv6 support</li>
<li>Multiple DNS upstream

<ul>
<li>Via UDP/TCP with custom port</li>
<li>Via SOCKS5 proxy (TCP only)</li>
<li>With EDNS Client Subnet (ECS) <a href="https://tools.ietf.org/html/rfc7871" target="_blank">RFC7871</a></li>
</ul></li>
<li>Dispatcher

<ul>
<li>IPv6 record (AAAA) redirection</li>
<li>Custom domain</li>
<li>Custom IP network</li>
</ul></li>
<li>Minimum TTL modification</li>
<li>Hosts (Random order if there are multiple answers)</li>
<li>Cache with ECS</li>
</ul>

<h2 id="é…ç½®">é…ç½®</h2>

<p>å¾<a href="https://github.com/shawn1m/overture/releases" target="_blank">Release</a>è£¡ä¸‹è¼‰prebuiltç‰ˆï¼Œä¸¦è§£å£“</p>

<p>ä¸‹è¼‰GFWå’ŒCN_ipåˆ—è¡¨,æ”¾ç½®æ–¼åŒä¸€ç›®éŒ„</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">wget https://cokebar.github.io/gfwlist2dnsmasq/gfwlist_domain.txt <span class="o">&amp;&amp;</span> wget https://raw.githubusercontent.com/17mon/china_ip_list/master/china_ip_list.txt</code></pre></td></tr></table>
</div>
</div>
<p>ä¹‹å¾Œå°±å¯ä»¥é­”æ”¹é…ç½®æ–‡ä»¶äº†</p>

<p><code>vim config.json</code></p>

<p>æˆ‘çš„é…ç½®æ–‡ä»¶å¦‚ä¸‹,åœ‹å…§èµ°DNSPodï¼Œ114ï¼ŒAliDNSï¼›åœ‹å¤–èµ°CFï¼ŒGoogleï¼ŒOpenDNS</p>

<p>æ”¯æŒEDNSçš„æˆ‘é–‹äº†autoï¼Œåœ‹å¤–çš„èµ°DoT</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json"><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json">  <span class="s2">&#34;BindAddress&#34;</span><span class="err">:</span> <span class="s2">&#34;:53&#34;</span><span class="err">,</span> <span class="err">//ç›£è½åœ°å€</span>
  <span class="s2">&#34;DebugHTTPAddress&#34;</span><span class="err">:</span> <span class="s2">&#34;127.0.0.1:5555&#34;</span><span class="err">,</span>
  <span class="s2">&#34;PrimaryDNS&#34;</span><span class="err">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&#34;Name&#34;</span><span class="p">:</span> <span class="s2">&#34;DNSPod&#34;</span><span class="p">,</span>
      <span class="nt">&#34;Address&#34;</span><span class="p">:</span> <span class="s2">&#34;119.29.29.29:53&#34;</span><span class="p">,</span>
      <span class="nt">&#34;Protocol&#34;</span><span class="p">:</span> <span class="s2">&#34;udp&#34;</span><span class="p">,</span>
      <span class="nt">&#34;SOCKS5Address&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
      <span class="nt">&#34;Timeout&#34;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
      <span class="nt">&#34;EDNSClientSubnet&#34;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&#34;Policy&#34;</span><span class="p">:</span> <span class="s2">&#34;auto&#34;</span><span class="p">,</span>
        <span class="nt">&#34;ExternalIP&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
        <span class="nt">&#34;NoCookie&#34;</span><span class="p">:</span> <span class="kc">true</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&#34;Name&#34;</span><span class="p">:</span> <span class="s2">&#34;114&#34;</span><span class="p">,</span>
      <span class="nt">&#34;Address&#34;</span><span class="p">:</span> <span class="s2">&#34;114.114.114.114&#34;</span><span class="p">,</span>
      <span class="nt">&#34;Protocol&#34;</span><span class="p">:</span> <span class="s2">&#34;udp&#34;</span><span class="p">,</span>
      <span class="nt">&#34;SOCKS5Address&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
      <span class="nt">&#34;Timeout&#34;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
      <span class="nt">&#34;EDNSClientSubnet&#34;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&#34;Policy&#34;</span><span class="p">:</span> <span class="s2">&#34;disable&#34;</span><span class="p">,</span>
        <span class="nt">&#34;ExternalIP&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
        <span class="nt">&#34;NoCookie&#34;</span><span class="p">:</span> <span class="kc">true</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&#34;Name&#34;</span><span class="p">:</span> <span class="s2">&#34;RubyFish&#34;</span><span class="p">,</span>
      <span class="nt">&#34;Address&#34;</span><span class="p">:</span> <span class="s2">&#34;dns.rubyfish.cn:853&#34;</span><span class="p">,</span>
      <span class="nt">&#34;Protocol&#34;</span><span class="p">:</span> <span class="s2">&#34;tcp-tls&#34;</span><span class="p">,</span>
      <span class="nt">&#34;SOCKS5Address&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
      <span class="nt">&#34;Timeout&#34;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
      <span class="nt">&#34;EDNSClientSubnet&#34;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&#34;Policy&#34;</span><span class="p">:</span> <span class="s2">&#34;disable&#34;</span><span class="p">,</span>
        <span class="nt">&#34;ExternalIP&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
        <span class="nt">&#34;NoCookie&#34;</span><span class="p">:</span> <span class="kc">true</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&#34;Name&#34;</span><span class="p">:</span> <span class="s2">&#34;AliDNS&#34;</span><span class="p">,</span>
      <span class="nt">&#34;Address&#34;</span><span class="p">:</span> <span class="s2">&#34;223.5.5.5:53&#34;</span><span class="p">,</span>
      <span class="nt">&#34;Protocol&#34;</span><span class="p">:</span> <span class="s2">&#34;udp&#34;</span><span class="p">,</span>
      <span class="nt">&#34;SOCKS5Address&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
      <span class="nt">&#34;Timeout&#34;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
      <span class="nt">&#34;EDNSClientSubnet&#34;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&#34;Policy&#34;</span><span class="p">:</span> <span class="s2">&#34;auto&#34;</span><span class="p">,</span>
        <span class="nt">&#34;ExternalIP&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
        <span class="nt">&#34;NoCookie&#34;</span><span class="p">:</span> <span class="kc">true</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span><span class="err">,</span>
  <span class="s2">&#34;AlternativeDNS&#34;</span><span class="err">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&#34;Name&#34;</span><span class="p">:</span> <span class="s2">&#34;CloudFlareDNS&#34;</span><span class="p">,</span>
      <span class="nt">&#34;Address&#34;</span><span class="p">:</span> <span class="s2">&#34;one.one.one.one:853&#34;</span><span class="p">,</span>
      <span class="nt">&#34;Protocol&#34;</span><span class="p">:</span> <span class="s2">&#34;tcp-tls&#34;</span><span class="p">,</span>
      <span class="nt">&#34;SOCKS5Address&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
      <span class="nt">&#34;Timeout&#34;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
      <span class="nt">&#34;EDNSClientSubnet&#34;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&#34;Policy&#34;</span><span class="p">:</span> <span class="s2">&#34;disable&#34;</span><span class="p">,</span>
        <span class="nt">&#34;ExternalIP&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
        <span class="nt">&#34;NoCookie&#34;</span><span class="p">:</span> <span class="kc">true</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&#34;Name&#34;</span><span class="p">:</span> <span class="s2">&#34;GoogleDNS&#34;</span><span class="p">,</span>
      <span class="nt">&#34;Address&#34;</span><span class="p">:</span> <span class="s2">&#34;dns.google:853&#34;</span><span class="p">,</span>
      <span class="nt">&#34;Protocol&#34;</span><span class="p">:</span> <span class="s2">&#34;tcp-tls&#34;</span><span class="p">,</span>
      <span class="nt">&#34;SOCKS5Address&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
      <span class="nt">&#34;Timeout&#34;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
      <span class="nt">&#34;EDNSClientSubnet&#34;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&#34;Policy&#34;</span><span class="p">:</span> <span class="s2">&#34;disable&#34;</span><span class="p">,</span>
        <span class="nt">&#34;ExternalIP&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
        <span class="nt">&#34;NoCookie&#34;</span><span class="p">:</span> <span class="kc">true</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&#34;Name&#34;</span><span class="p">:</span> <span class="s2">&#34;OpenDNS&#34;</span><span class="p">,</span>
      <span class="nt">&#34;Address&#34;</span><span class="p">:</span> <span class="s2">&#34;208.67.222.222:443&#34;</span><span class="p">,</span>
      <span class="nt">&#34;Protocol&#34;</span><span class="p">:</span> <span class="s2">&#34;tcp&#34;</span><span class="p">,</span>
      <span class="nt">&#34;SOCKS5Address&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
      <span class="nt">&#34;Timeout&#34;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
      <span class="nt">&#34;EDNSClientSubnet&#34;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&#34;Policy&#34;</span><span class="p">:</span> <span class="s2">&#34;auto&#34;</span><span class="p">,</span>
        <span class="nt">&#34;ExternalIP&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
        <span class="nt">&#34;NoCookie&#34;</span><span class="p">:</span> <span class="kc">true</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span><span class="err">,</span>
  <span class="s2">&#34;OnlyPrimaryDNS&#34;</span><span class="err">:</span> <span class="kc">false</span><span class="err">,</span>
  <span class="s2">&#34;IPv6UseAlternativeDNS&#34;</span><span class="err">:</span> <span class="kc">false</span><span class="err">,</span>
  <span class="s2">&#34;WhenPrimaryDNSAnswerNoneUse&#34;</span><span class="err">:</span> <span class="s2">&#34;PrimaryDNS&#34;</span><span class="err">,</span>
  <span class="s2">&#34;IPNetworkFile&#34;</span><span class="err">:</span> <span class="p">{</span>
    <span class="nt">&#34;Primary&#34;</span><span class="p">:</span> <span class="s2">&#34;./china_ip_list.txt&#34;</span><span class="p">,</span>
    <span class="nt">&#34;Alternative&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
  <span class="p">}</span><span class="err">,</span>
  <span class="s2">&#34;DomainFile&#34;</span><span class="err">:</span> <span class="p">{</span>
    <span class="nt">&#34;Primary&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
    <span class="nt">&#34;Alternative&#34;</span><span class="p">:</span> <span class="s2">&#34;./gfwlist_domain.txt&#34;</span><span class="p">,</span>
    <span class="nt">&#34;Matcher&#34;</span><span class="p">:</span>  <span class="s2">&#34;regex-list&#34;</span>
  <span class="p">}</span><span class="err">,</span>
  <span class="s2">&#34;HostsFile&#34;</span><span class="err">:</span> <span class="s2">&#34;./hosts_sample&#34;</span><span class="err">,</span>
  <span class="s2">&#34;MinimumTTL&#34;</span><span class="err">:</span> <span class="mi">0</span><span class="err">,</span>
  <span class="s2">&#34;DomainTTLFile&#34;</span> <span class="err">:</span> <span class="s2">&#34;./domain_ttl_sample&#34;</span><span class="err">,</span>
  <span class="s2">&#34;CacheSize&#34;</span> <span class="err">:</span> <span class="mi">99</span><span class="err">,</span> <span class="err">//ç·©å­˜æ¢æ•¸</span>
  <span class="s2">&#34;RejectQType&#34;</span><span class="err">:</span> <span class="p">[</span><span class="mi">255</span><span class="p">]</span>
<span class="err">}</span></code></pre></td></tr></table>
</div>
</div>
<p>å€‹äººæ¯”è¼ƒæ¨è–¦<a href="https://github.com/Unitech/pm2" target="_blank">PM2</a>ä½œçˆ²é€²ç¨‹ç®¡ç†</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">npm install pm2 -g
<span class="c1">#å¦‚æœä½ æ²’nodejså¯ä»¥ä½¿ç”¨ wget -qO- https://getpm2.com/install.sh | bash</span>
pm2 start overture-linux -- -c ./config.json</code></pre></td></tr></table>
</div>
</div>
<h2 id="æ¸¬è©¦">æ¸¬è©¦</h2>

<p>æœ€å¾Œçš„è©±å°±digæ¸¬è©¦ä¸€ä¸‹å°±å¥½äº†æ‹‰ï¼Œ</p>

<div class="notice tip" >
<p class="first notice-title"></p><p>ç”¨æˆ‘çš„åŸŸåæ¸¬è©¦çš„è©±ï¼Œæˆ‘çš„åŸŸåæ˜¯è¢«æ±¡æŸ“äº†çš„</p></div>

<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="p">;</span> &lt;&lt;&gt;&gt; DiG <span class="m">9</span>.11.5-P4-5.1-Debian &lt;&lt;&gt;&gt; blog.mrsheep.xyz @127.0.0.1 -p <span class="m">15353</span>
<span class="p">;;</span> global options: +cmd
<span class="p">;;</span> Got answer:
<span class="p">;;</span> -&gt;&gt;HEADER<span class="s">&lt;&lt;- opco</span>de: QUERY, status: NOERROR, id: <span class="m">18416</span>
<span class="p">;;</span> flags: qr rd ra ad<span class="p">;</span> QUERY: <span class="m">1</span>, ANSWER: <span class="m">2</span>, AUTHORITY: <span class="m">0</span>, ADDITIONAL: <span class="m">1</span>

<span class="p">;;</span> OPT PSEUDOSECTION:
<span class="p">;</span> EDNS: version: <span class="m">0</span>, flags:<span class="p">;</span> udp: <span class="m">512</span>
<span class="p">;;</span> QUESTION SECTION:
<span class="p">;</span>blog.mrsheep.xyz.              IN      A

<span class="p">;;</span> ANSWER SECTION:
blog.mrsheep.xyz.       <span class="m">299</span>     IN      A       <span class="m">104</span>.27.165.30
blog.mrsheep.xyz.       <span class="m">299</span>     IN      A       <span class="m">104</span>.27.164.30

<span class="p">;;</span> Query time: <span class="m">535</span> msec
<span class="p">;;</span> SERVER: <span class="m">127</span>.0.0.1#15353<span class="o">(</span><span class="m">127</span>.0.0.1<span class="o">)</span>
<span class="p">;;</span> WHEN: Fri Nov <span class="m">15</span> <span class="m">19</span>:16:43 PST <span class="m">2019</span>
<span class="p">;;</span> MSG SIZE  rcvd: <span class="m">109</span></code></pre></td></tr></table>
</div>
</div>]]></content>
            
            
            
            
            
                
                    
                
                    
                
            
        </entry>
    
        <entry>
            <title type="text">CoreDNSé…ç½®</title>
            <link rel="alternate" type="text/html" href="https://blog.mrsheep.xyz/posts/coredns-cfg/" />
            <id>https://blog.mrsheep.xyz/posts/coredns-cfg/</id>
            <updated>2019-11-16T17:57:52+08:00</updated>
            <published>2019-09-19T19:27:40+08:00</published>
            <author>
                    <name>MrSheep</name>
                    <uri>https://blog.mrsheep.xyz</uri>
                    <email>admin@mrsheep.xyz</email>
                    </author>
            <rights>![CC BY-NC-SA 4.0](https://mirrors.creativecommons.org/presskit/buttons/88x31/svg/by-nc-sa.svg)  ![996 ICU](https://img.shields.io/badge/link-996.icu-red.svg)</rights><summary type="html"><![CDATA[CoreDNSæ˜¯ä¸€å€‹ç”±GOèªè¨€ç·¨å¯«çš„è¼•é‡ç´šé–‹æºDNSæœå‹™ï¼Œè·¨å¹³è‡ºæ”¯æŒï¼Œä¸¦æœ‰ä¸€ä¸‹å¹¾å€‹ç‰¹æ€§ï¼š
 æ’ä»¶ é…ç½®ç°¡å–® è·¨å¹³è‡º é€šç”¨ DNS æ–¹æ¡ˆ  å®˜ç¶²ï¼š CoreDNS]]></summary>
            
                <content type="html"><![CDATA[<p>CoreDNSæ˜¯ä¸€å€‹ç”±GOèªè¨€ç·¨å¯«çš„è¼•é‡ç´šé–‹æºDNSæœå‹™ï¼Œè·¨å¹³è‡ºæ”¯æŒï¼Œä¸¦æœ‰ä¸€ä¸‹å¹¾å€‹ç‰¹æ€§ï¼š</p>

<ul>
<li>æ’ä»¶</li>
<li>é…ç½®ç°¡å–®</li>
<li>è·¨å¹³è‡º</li>
<li>é€šç”¨ DNS æ–¹æ¡ˆ</li>
</ul>

<p>å®˜ç¶²ï¼š <a href="https://coredns.io" target="_blank">CoreDNS</a></p>

<h1 id="é…ç½®">é…ç½®</h1>

<p>åœ¨<a href="https://github.com/coredns/coredns/releases" target="_blank">https://github.com/coredns/coredns/releases</a>ä¸‹è¼‰æœ€æ–°çš„pre-builtç‰ˆæœ¬</p>

<h3 id="è‡ªè¡Œç·¨è­¯">è‡ªè¡Œç·¨è­¯</h3>

<p>å¦‚æœä½ éœ€è¦ç”¨åˆ°<code>Proxy</code>é€™å€‹pluginçš„è©±ï¼Œä½ éœ€è¦è‡ªè¡Œç·¨è­¯ä¸€ä»½CoreDNSï¼Œå…·é«”åŸå› åƒè¦‹<a href="https://github.com/coredns/coredns/issues/3234" target="_blank">ISSUE #3234</a>,ç·¨è­¯ååˆ†çš„ç°¡å–®ï¼Œä½†æ˜¯ç¶²è·¯ç’°å¢ƒçš„åŸå› ï¼Œæ¨è–¦ä½¿ç”¨å¢ƒå¤–æœå‹™å™¨ç·¨è­¯,ä½†æ˜¯ç•¶ç„¶ï¼Œä½ è¦æ˜¯ç›¸ä¿¡åœ‹å…§çš„é¡åƒï¼Œæˆ‘ä¹Ÿä¸æœƒæ””ç€ä½ </p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">git clone https://github.com/coredns/coredns
<span class="nb">cd</span> coredns
make</code></pre></td></tr></table>
</div>
</div>
<p>åœ¨<code>make</code>ä¹‹å‰ï¼Œè«‹ç·¨è¼¯ä½æ–¼æ–‡ä»¶å¤¾å…§çš„<code>plugin.cfg</code>æ–‡ä»¶ï¼Œæ·»åŠ </p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">proxy:github.com/coredns/proxy</pre></td></tr></table>
</div>
</div>
<h1 id="corefile">Corefile</h1>

<p>CoreDNSä½¿ç”¨Corefileä½œçˆ²é…ç½®æ–‡ä»¶ï¼ˆå’ŒCaddyfileé¡ä¼¼ï¼‰ï¼Œ<a href="https://coredns.io/manual/toc/#configuration" target="_blank">å®˜æ–¹çš„Manual</a>æ˜¯é€™éº¼èªªçš„</p>

<p><strong>That file consists of one or more Server Blocks. Each Server Block lists one or more Plugins. Those Plugins may be further configured with Directives.</strong></p>

<p>åœ¨é€™è£å°±å»¢è©±ä¸å¤šï¼Œéœ€è¦å…¶ä»–çš„é…ç½®è«‹åƒè€ƒManual</p>]]></content>
            
            
            
            
            
                
                    
                
                    
                
            
        </entry>
    
        <entry>
            <title type="text">Clash é€æ˜ä»£ç†</title>
            <link rel="alternate" type="text/html" href="https://blog.mrsheep.xyz/posts/clash-gateway/" />
            <id>https://blog.mrsheep.xyz/posts/clash-gateway/</id>
            <updated>2019-11-16T17:57:52+08:00</updated>
            <published>2019-09-19T19:11:26+08:00</published>
            <author>
                    <name>MrSheep</name>
                    <uri>https://blog.mrsheep.xyz</uri>
                    <email>admin@mrsheep.xyz</email>
                    </author>
            <rights>![CC BY-NC-SA 4.0](https://mirrors.creativecommons.org/presskit/buttons/88x31/svg/by-nc-sa.svg)  ![996 ICU](https://img.shields.io/badge/link-996.icu-red.svg)</rights><summary type="html"><![CDATA[æ°´æ–‡ä¸€ç¯‡ï¼Œå› çˆ²å®¶è£çš„ç¶²çµ¡ä¸­æœ‰é¡ä¼¼å°ç±³ç›’å­ï¼ŒApple TVé€™æ¨£çš„è¨­å‚™ï¼Œè‡ªèº«é…ç½®ä¸æ˜¯å¾ˆå¥½ï¼Œéˆæ¥æ•ˆç‡æœƒè¢«é™ä½ï¼Œé‚„ä¸å¦‚åœ¨RPi 3Bé…ç½®ä¸€å€‹é€æ˜ä»£ç† æˆ‘æœ¬ä¾†çš„è¨­æƒ³æ˜¯v2ray + iptables + dnsmasqï¼Œç„¶å¾Œçªç„¶æƒ³åˆ°Clashè‡ªå¸¶äº†ä¸€å€‹ç°¡å–®çš„DNSä»¥åŠé€æ˜ä»£ç†åŠŸèƒ½ï¼Œå†åŠ ä¸ŠCoreDNSå²‚ä¸æ˜¯ç¾æ»‹æ»‹ï¼Ÿæœ€åé…åˆROSæŒ‡å®šçš„ipèµ°é€æ˜ä»£ç†ï¼Œé‚„è¦ä»€éº¼è‡ªè¡Œè»Šï¼Ÿ]]></summary>
            
                <content type="html"><![CDATA[<p>æ°´æ–‡ä¸€ç¯‡ï¼Œå› çˆ²å®¶è£çš„ç¶²çµ¡ä¸­æœ‰é¡ä¼¼å°ç±³ç›’å­ï¼ŒApple TVé€™æ¨£çš„è¨­å‚™ï¼Œè‡ªèº«é…ç½®ä¸æ˜¯å¾ˆå¥½ï¼Œéˆæ¥æ•ˆç‡æœƒè¢«é™ä½ï¼Œé‚„ä¸å¦‚åœ¨RPi 3Bé…ç½®ä¸€å€‹é€æ˜ä»£ç†
æˆ‘æœ¬ä¾†çš„è¨­æƒ³æ˜¯v2ray + iptables + dnsmasqï¼Œç„¶å¾Œçªç„¶æƒ³åˆ°Clashè‡ªå¸¶äº†ä¸€å€‹ç°¡å–®çš„DNSä»¥åŠé€æ˜ä»£ç†åŠŸèƒ½ï¼Œå†åŠ ä¸ŠCoreDNSå²‚ä¸æ˜¯ç¾æ»‹æ»‹ï¼Ÿæœ€åé…åˆROSæŒ‡å®šçš„ipèµ°é€æ˜ä»£ç†ï¼Œé‚„è¦ä»€éº¼è‡ªè¡Œè»Šï¼Ÿ</p>

<h1 id="ç’°å¢ƒ">ç’°å¢ƒ</h1>

<p>éœ€è¦æº–å‚™çš„åŒ…,ä»¥aptä¸ºä¾‹</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">sudo apt-get install supervisor iptables-persistent net-tools curl wget vim  -y</code></pre></td></tr></table>
</div>
</div>
<p>é–‹å•“è½‰ç™¼</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="nb">echo</span> <span class="s2">&#34;net.ipv6.conf.all.forwarding = 1&#34;</span> &gt;&gt; /etc/sysctl.conf <span class="o">&amp;&amp;</span> sysctl -p</code></pre></td></tr></table>
</div>
</div>
<h1 id="clashé…ç½®">Clashé…ç½®</h1>

<p>éš¨ä¾¿æ‰¾ä¸€å€‹ç›®éŒ„ï¼Œcdé€²å…¥
åœ¨<a href="https://github.com/Dreamacro/clash/releases/" target="_blank">Clashçš„Releaseé é¢</a>æ‰¾åˆ°ä½ éœ€è¦çš„ç‰ˆæœ¬ï¼Œ</p>

<p>æ¨¹è“æ´¾3Bçš„è©±æ˜¯<strong>clash-linux-armv6</strong></p>

<p>ç¬”è®°æœ¬çš„è¯æ˜¯<strong>amd64</strong></p>

<p>æˆ‘æœ€çµ‚é‚„æ˜¯æ›æˆäº†Thinkpad X201tä½œçˆ²ç¶²é—œ</p>

<p>wgetåˆ°æœ¬åœ°ï¼Œå…¶å¯¦ä¹Ÿå¯ä»¥ä¸‹è¼‰åˆ°é›»è…¦å†sftpä¸Šä¾†ï¼Œç¯€ç´„æ™‚é–“ï¼ˆgithubæ—¥å¸¸æŠ½é¢¨ï¼‰
å¦‚æœé›»è…¦ä¸Šå·²ç¶“æœ‰Clashï¼Œå¯ä»¥åŒæ™‚å°‡<strong>Country.mmdb</strong>ä¸Šå‚³ï¼Œé€™æ¨£clashå°±ä¸éœ€è¦é‡æ–°ä¸‹è¼‰äº†</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">gzip -d clash-linux-armv6-v0.15.0.gz
mv clash-linux-armv6-v0.15.0 clash-linux
chmod +x clash-linux</code></pre></td></tr></table>
</div>
</div>
<p>åœ¨è©²ç›®éŒ„ä¸‹å‰µå»ºä¸€å€‹åçˆ²<strong>config.yaml</strong>çš„é…ç½®æ–‡ä»¶</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json"><span class="err">port:</span> <span class="mi">8001</span>
<span class="err">socks-port:</span> <span class="mi">1081</span>
<span class="err">redir-port:</span> <span class="mi">9280</span>
<span class="err">allow-lan:</span> <span class="kc">true</span>
<span class="err">mode:</span> <span class="err">Rule</span>
<span class="err">log-level:</span> <span class="err">info</span>
<span class="err">external-controller:</span> <span class="mf">127.0</span><span class="err">.</span><span class="mf">0.1</span><span class="err">:</span><span class="mi">9090</span>
<span class="err">secret:</span> <span class="s2">&#34;&#34;</span>

<span class="err">dns:</span>
  <span class="err">enable:</span> <span class="kc">true</span>
  <span class="err">ipv</span><span class="mi">6</span><span class="err">:</span> <span class="kc">false</span>
  <span class="err">listen:</span> <span class="mf">0.0</span><span class="err">.</span><span class="mf">0.0</span><span class="err">:</span><span class="mi">53</span>
  <span class="err">enhanced-mode:</span> <span class="err">redir-host</span>
  <span class="err">nameserver:</span>
      <span class="err">-</span> <span class="err">tls://dns.rubyfish.cn:</span><span class="mi">853</span>
  <span class="err">fallback:</span>
      <span class="err">-</span> <span class="err">tls://</span><span class="mf">1.1</span><span class="err">.</span><span class="mf">1.1</span><span class="err">:</span><span class="mi">853</span>
      <span class="err">-</span> <span class="err">tls://dns.google</span>

<span class="err">Proxy:</span>
<span class="err">#</span> <span class="err">shadowsocks</span>
<span class="err">-</span> <span class="p">{</span> <span class="err">name:</span> <span class="nt">&#34;SS&#34;</span><span class="p">,</span> <span class="err">type:</span> <span class="err">ss,</span> <span class="err">server:</span> <span class="nt">&#34;åœ°å€&#34;</span><span class="p">,</span> <span class="err">port:</span> <span class="err">ç«¯å£,</span> <span class="err">cipher:</span> <span class="err">AEAD_CHACHA20_POLY1305,</span> <span class="err">password:</span> <span class="nt">&#34;å¯†ç¢¼&#34;</span> <span class="p">}</span>

<span class="err">#</span> <span class="err">vmess</span>
<span class="err">-</span> <span class="p">{</span> <span class="err">name:</span> <span class="nt">&#34;HK&#34;</span><span class="p">,</span> <span class="err">type:</span> <span class="err">vmess,</span> <span class="err">server:</span> <span class="err">åœ°å€,</span> <span class="err">port:</span> <span class="err">ç«¯å£,</span> <span class="err">uuid:</span> <span class="err">ä½ çš„uuid,</span> <span class="err">alterId:</span> <span class="err">16,</span> <span class="err">cipher:</span> <span class="err">auto,</span> <span class="err">network:</span> <span class="err">ws,</span> <span class="err">ws-path:</span> <span class="err">wsç›®éŒ„,</span> <span class="err">tls:</span> <span class="err">true,</span> <span class="err">skip-cert-verify:</span> <span class="err">true</span> <span class="p">}</span>

<span class="err">Proxy</span> <span class="err">Group:</span>
<span class="err">-</span> <span class="p">{</span> <span class="err">name:</span> <span class="nt">&#34;Proxy&#34;</span><span class="p">,</span> <span class="err">type:</span> <span class="err">select,</span> <span class="err">proxies:</span> <span class="err">[</span><span class="nt">&#34;HK&#34;</span><span class="err">]</span> <span class="p">}</span>

<span class="err">Rule:</span>
<span class="err">#</span> <span class="err">LAN</span>
<span class="err">-</span> <span class="err">DOMAIN-SUFFIX,local,DIRECT</span>
<span class="err">-</span> <span class="err">IP-CIDR,</span><span class="mf">127.0</span><span class="err">.</span><span class="mf">0.0</span><span class="err">/</span><span class="mi">8</span><span class="err">,DIRECT</span>
<span class="err">-</span> <span class="err">IP-CIDR,</span><span class="mf">172.16</span><span class="err">.</span><span class="mf">0.0</span><span class="err">/</span><span class="mi">12</span><span class="err">,DIRECT</span>
<span class="err">-</span> <span class="err">IP-CIDR,</span><span class="mf">192.168</span><span class="err">.</span><span class="mf">0.0</span><span class="err">/</span><span class="mi">16</span><span class="err">,DIRECT</span>
<span class="err">-</span> <span class="err">IP-CIDR,</span><span class="mf">10.0</span><span class="err">.</span><span class="mf">0.0</span><span class="err">/</span><span class="mi">8</span><span class="err">,DIRECT</span>
<span class="err">-</span> <span class="err">IP-CIDR,</span><span class="mf">17.0</span><span class="err">.</span><span class="mf">0.0</span><span class="err">/</span><span class="mi">8</span><span class="err">,DIRECT</span>
<span class="err">-</span> <span class="err">IP-CIDR,</span><span class="mf">100.64</span><span class="err">.</span><span class="mf">0.0</span><span class="err">/</span><span class="mi">10</span><span class="err">,DIRECT</span>

<span class="err">#</span> <span class="err">Final</span>
<span class="err">-</span> <span class="err">GEOIP,CN,DIRECT</span>
<span class="err">-</span> <span class="err">MATCH,Proxy</span></code></pre></td></tr></table>
</div>
</div>
<p>æ³¨æ„ï¼š</p>

<ol>
<li>å¿…é ˆé…ç½®<code>redir-port</code>å› çˆ²ä½ è¦åšé€æ˜ä»£ç†</li>
<li>DNSé‚£è£é…ç½®<strong>ç›£è½å’Œenhanced-mode</strong></li>
<li>é–‹å•“Allow Lanä¸¦é–‹æ”¾å°æ‡‰é˜²ç«ç‰†</li>
</ol>

<p>æˆ‘é…ç½®çš„dnséƒ½æ˜¯æ”¯æŒDoTçš„DNSæœå‹™å™¨ï¼Œåœ‹å…§çš„é¸æ“‡ç´…é­šï¼Œåœ‹å¤–é¸æ“‡CFï¼Œå…·é«”Clashè«‹æ±‚DNSåŸç†è«‹åƒè€ƒGithubé é¢</p>

<h1 id="coredns">CoreDNS</h1>

<p>å‚è€ƒæ–‡ç«  <a href="link-to-coredns" target="_blank">CoreDNSé…ç½®</a></p>

<p>CoreDNSéœ€è¦å¼€åœ¨é«˜ç«¯å£ï¼Œæˆ–è€…ä¿®æ”¹iptables</p>

<p>è¯·å°†ä¸Šé¢çš„é…ç½®æ–‡ä»¶ä¸­çš„dnséƒ¨åˆ†æ”¹ä¸ºï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json"><span class="err">dns:</span>
  <span class="err">enable:</span> <span class="kc">true</span>
  <span class="err">ipv</span><span class="mi">6</span><span class="err">:</span> <span class="kc">false</span>
  <span class="err">listen:</span> <span class="mf">0.0</span><span class="err">.</span><span class="mf">0.0</span><span class="err">:</span><span class="mi">53</span>
  <span class="err">enhanced-mode:</span> <span class="err">redir-host</span>
  <span class="err">nameserver:</span>
      <span class="err">-</span> <span class="mf">127.0</span><span class="err">.</span><span class="mf">0.1</span><span class="err">:ä½ çš„Corednsç«¯å£</span></code></pre></td></tr></table>
</div>
</div>
<h1 id="iptablesé…ç½®">iPtablesé…ç½®</h1>

<p>æˆ‘çš„æœ¬åœ°ç¶²æ®µæ˜¯192.168.88.0/16</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></pre></td>
<td class="lntd">
<pre class="chroma">iptables -t nat -N Clash
//å‰µå»ºåçˆ²Clashçš„è¦å‰‡
iptables -t nat -A Clash -d 192.168.88.0/16 -j RETURN
//ä¸å°æœ¬åœ°é€²è¡Œä»£ç†
iptables -t nat -A Clash -p tcp -j REDIRECT --to-ports 9280
//é€™è£æ˜¯ä½ çš„redirport
iptables -t nat -A PREROUTING -p tcp -j Clash</pre></td></tr></table>
</div>
</div>
<p>ç„¶å¾Œ<code>netfilter-persistent save</code>æŒä¹…åŒ–</p>

<p>ä¹‹å¾Œä½ å°±å¯ä»¥æ„‰å¿«çš„é–‹å•“Clashäº†
<code>./clash-linux -d .</code>
æ²’æœ‰Country.MMDBæœƒè‡ªå‹•ä¸‹è¼‰ï¼Œæ²’æœ‰å ±éŒ¯çš„è©±å°±èªªæ˜é…ç½®å®Œæˆäº†
å¯ä»¥æŠŠè¨­å‚™çš„DNSå’ŒGatewayéƒ½æ”¹æˆæ¨¹è“æ´¾çš„ipæ¸¬è©¦ä¸€ä¸‹</p>

<h3 id="å®ˆè­·é€²ç¨‹">å®ˆè­·é€²ç¨‹</h3>

<h4 id="supervisor">Supervisor</h4>

<p>æ–°å»ºä¸€å€‹supervisoré…ç½®
<code>vim /etc/supervisor/conf.d/clash.conf</code>
å…§å®¹å¦‚ä¸‹</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></pre></td>
<td class="lntd">
<pre class="chroma">[supervisord]
nodaemon=false

[program:clash]
priority=1
directory=clashæ‰€åœ¨çš„ç›®éŒ„
command=clashæ‰€åœ¨çš„ç›®éŒ„/clash-linux -d .
autorestart=true</pre></td></tr></table>
</div>
</div>
<h4 id="pm2">PM2</h4>

<p>å®˜æ–¹æ¨èçš„è¿›ç¨‹ç®¡ç†å™¨ï¼Œååˆ†çš„æ–¹ä¾¿ï¼Œå®‰è£éœ€è¦npmï¼Œå¤©æœç¶²è·¯å‡ºå£å¸¸å¹´æ•…éšœï¼Œèƒ½ä¸èƒ½è£ä¸Šéš¨ç·£</p>

<p>é …ç›®åœ°å€ï¼š  [github.com/Unitech/pm2][<a href="https://github.com/Unitech/pm2" target="_blank">https://github.com/Unitech/pm2</a>]</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">//å®‰è£pm2
npm install pm2 -g
//å•“å‹•ç¨‹åº
pm2 start app.js
//æŸ¥çœ‹æ­£åœ¨é‹è¡Œçš„ç¨‹åº
pm2 list
//æŸ¥çœ‹æ—¥èªŒ
pm2 logs</code></pre></td></tr></table>
</div>
</div>
<h1 id="rosæŒ‡å®šipèµ°é€æ˜ä»£ç†">ROSæŒ‡å®šipèµ°é€æ˜ä»£ç†</h1>

<p>é€™éƒ¨åˆ†çš„è©±åƒè€ƒ<a href="http://www.myxzy.com/post-461.html" target="_blank">RouterOSæŒ‡å®šå†…ç½‘IPèµ°æŒ‡å®šæ¥å£</a>
å› çˆ²ä¸æƒ³æ”¹è®Šç¾æœ‰çš„ç¶²çµ¡çµæ§‹ï¼Œæ‰€ä»¥åªè®“æŒ‡å®šçš„å…§ç¶²ipèµ°æ¨¹è“æ´¾
åœ¨RouterOSä¸­
IP - Firewall ä¸­åˆ‡æ› Mangle é¸é …ï¼Œæ·»åŠ ä¸€æ¢æ–°çš„è¦å‰‡
General é€‰é¡¹å¡ä¸­ï¼ŒChain é€‰æ‹© prerouting ï¼ŒSrc.Address å¯«å°ç±³ç›’å­ç­‰éœ€è¦ä»£ç†çš„ip
å¦‚åªéœ€è¦ç‰¹å®šåè®®é€šè¿‡æŒ‡å®šæ¥å£å°±éœ€è¦åœ¨protocolä¸­é€‰æ‹©å¯¹åº”çš„åè®®ï¼Œå…¨å±€åˆ™ä¸é€‰
Action é€‰é¡¹å¡ï¼Œåœ¨ Action ä¸‹æ‹‰èœå•ä¸­é€‰æ‹© mark routing ï¼ŒNew Routing Mark ä¸­å¡«å…¥è¯¥è·¯ç”±æ ‡è®°åç§°ï¼ŒProxy_to_pi
å¦‚æœå¤šå€‹è¨­å‚™çš„è©±ï¼Œå¯ä»¥è€ƒæ…®é…ç½®å€‹adress listï¼Œæˆ‘æš«æ™‚åªæœ‰1å€‹ï¼Œå°±æ‡¶å¾—å•¦
ä¹‹å¾Œåœ¨IP - Routesé…ç½®è·¯ç”±ï¼Œæ·»åŠ ä¸€æ¢æ–°çš„è¦å‰‡</p>

<p>ä½†æ˜¯æˆ‘å€‹äººæ›´åŠ æ¨è–¦å…¨å±€æ‡‰ç”¨ï¼Œå°‡dnså’Œç¶²é—œå…¨éƒ¨æ›´æ”¹çˆ²Clashçš„ipåœ°å€</p>

<h1 id="åƒè€ƒæ–‡ç« ">åƒè€ƒæ–‡ç« </h1>

<p><a href="http://www.myxzy.com/post-461.html" target="_blank">RouterOSæŒ‡å®šå†…ç½‘IPèµ°æŒ‡å®šæ¥å£</a></p>]]></content>
            
            
            
            
            
                
                    
                
                    
                
            
        </entry>
    
        <entry>
            <title type="text">Caddy/Nginx &#43; V2Ray</title>
            <link rel="alternate" type="text/html" href="https://blog.mrsheep.xyz/posts/v2ray-ws/" />
            <id>https://blog.mrsheep.xyz/posts/v2ray-ws/</id>
            <updated>2019-11-16T17:57:52+08:00</updated>
            <published>2019-09-15T13:37:25+08:00</published>
            <author>
                    <name>MrSheep</name>
                    <uri>https://blog.mrsheep.xyz</uri>
                    <email>admin@mrsheep.xyz</email>
                    </author>
            <rights>![CC BY-NC-SA 4.0](https://mirrors.creativecommons.org/presskit/buttons/88x31/svg/by-nc-sa.svg)  ![996 ICU](https://img.shields.io/badge/link-996.icu-red.svg)</rights><summary type="html"><![CDATA[ç›¸æ¯”è¼ƒæ–¼ä¹‹å‰çš„Nginxï¼ŒCaddyæ˜¯ä¸€å€‹æ›´åŠ è¼•é‡ç´šï¼Œå®‰è£æ›´åŠ æ–¹ä¾¿ï¼Œé…ç½®è¶…ç´šç°¡å–®çš„web serverï¼Œä¸¦ä¸”æ”¯æŒè‡ªå‹•ç”³è«‹lets encryptè­‰æ›¸ï¼ˆé›–ç„¶æˆ‘ç”¨ä¸åˆ°ï¼‰ Caddyé…ç½®ååˆ†çš„ç°¡å–®ï¼Œå¹¾åˆ†é˜å³å¯ä»¥å®Œæˆé…ç½®]]></summary>
            
                <content type="html"><![CDATA[<p>ç›¸æ¯”è¼ƒæ–¼ä¹‹å‰çš„Nginxï¼ŒCaddyæ˜¯ä¸€å€‹æ›´åŠ è¼•é‡ç´šï¼Œå®‰è£æ›´åŠ æ–¹ä¾¿ï¼Œé…ç½®è¶…ç´šç°¡å–®çš„web serverï¼Œä¸¦ä¸”æ”¯æŒè‡ªå‹•ç”³è«‹lets encryptè­‰æ›¸ï¼ˆé›–ç„¶æˆ‘ç”¨ä¸åˆ°ï¼‰
Caddyé…ç½®ååˆ†çš„ç°¡å–®ï¼Œå¹¾åˆ†é˜å³å¯ä»¥å®Œæˆé…ç½®</p>

<h1 id="caddy">Caddy</h1>

<h3 id="ä¸‹è¼‰å®‰è£">ä¸‹è¼‰å®‰è£</h3>

<p><a href="https://caddyserver.com/download" target="_blank">Caddyå®˜ç¶²</a></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">curl https://getcaddy.com <span class="p">|</span> bash -s personal http.forwardproxy,http.proxyprotocol</code></pre></td></tr></table>
</div>
</div>
<p>CentOSçš„è©±è«‹è¼¸å…¥ä¸€ä¸‹å‘½ä»¤</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">curl -s https://raw.githubusercontent.com/GEM7/My_scripts/master/caddy/caddy.service -o /etc/systemd/system/caddy.service</code></pre></td></tr></table>
</div>
</div>
<h3 id="é…ç½®">é…ç½®</h3>

<p>é…ç½®çœŸå¿ƒè¶…ç´šç°¡å–®ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨è‡ªå·±çš„è­‰æ›¸ï¼Œæ¯”å¦‚CFçš„è­‰æ›¸ï¼Œè«‹å°‡è­‰æ›¸å’Œç§é‘°ä¿å­˜æœ¬åœ°ï¼Œåœ¨é…ç½®æ–‡ä»¶ä¸­å¼•ç”¨å³å¯ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json"><span class="err">ä½ çš„åŸŸå:</span><span class="mi">443</span> <span class="p">{</span>
    <span class="err">root</span> <span class="err">/www</span>
    <span class="err">gzip</span>
    <span class="err">index</span> <span class="err">index.html</span>
    <span class="err">tls</span> <span class="err">è­‰æ›¸è·¯å¾‘</span> <span class="err">ç§é‘°è·¯å¾‘</span>
    <span class="err">//å¦‚æœéœ€è¦è‡ªå‹•ç”³è«‹çš„è©±ï¼Œè«‹ç§»é™¤ä¸Šé¢é€™è¡Œ</span>
    <span class="err">proxy</span> <span class="err">åƒè£è·¯å¾‘</span> <span class="err">localhost:9999</span> <span class="err">{</span>
           <span class="err">websocket</span>
           <span class="err">header_upstream</span> <span class="err">-Origin</span>
    <span class="p">}</span>
<span class="err">}</span></code></pre></td></tr></table>
</div>
</div>
<h1 id="nginx">Nginx</h1>

<p>æˆ‘ä¹‹å‰ä½¿ç”¨æ˜¯Nginxï¼Œä½†æ˜¯ç”±æ–¼é«”ç©å¤§ï¼Œé…ç½®è¤‡é›œæ‰€ä»¥é¸ç”¨Caddyï¼Œä½†æ˜¯é€™è£é‚„æ˜¯é™„ä¸ŠNginxé…ç½®ï¼Œåƒ…ä¾›åƒè€ƒ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">server
<span class="o">{</span>
    listen <span class="m">80</span><span class="p">;</span>
    listen <span class="m">443</span> ssl http2<span class="p">;</span>
    server_name ä½ çš„åŸŸå *.ä½ çš„åŸŸå<span class="p">;</span>
    index index.php index.html index.htm default.php default.htm default.html<span class="p">;</span>
    root /www/wwwroot/ä½ çš„åŸŸå<span class="p">;</span>
    
    <span class="c1">#SSL-START SSLç›¸å…³é…ç½®ï¼Œè¯·å‹¿åˆ é™¤æˆ–ä¿®æ”¹ä¸‹ä¸€è¡Œå¸¦æ³¨é‡Šçš„404è§„åˆ™</span>
    <span class="c1">#error_page 404/404.html;</span>
    <span class="c1">#HTTP_TO_HTTPS_START</span>
    <span class="k">if</span> <span class="o">(</span><span class="nv">$server_port</span> !~ <span class="m">443</span><span class="o">){</span>
        rewrite ^<span class="o">(</span>/.*<span class="o">)</span>$ https://<span class="nv">$host$1</span> permanent<span class="p">;</span>
    <span class="o">}</span>
    <span class="c1">#HTTP_TO_HTTPS_END</span>
    ssl_certificate    /etc/letsencrypt/live/ä½ çš„åŸŸå/fullchain.pem<span class="p">;</span>
    ssl_certificate_key    /etc/letsencrypt/live/ä½ çš„åŸŸå/privkey.pem<span class="p">;</span>
    ssl_protocols TLSv1 TLSv1.1 TLSv1.2<span class="p">;</span>
    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE<span class="p">;</span>
    ssl_prefer_server_ciphers on<span class="p">;</span>
    ssl_session_cache shared:SSL:10m<span class="p">;</span>
    ssl_session_timeout 10m<span class="p">;</span>
    error_page <span class="m">497</span>  https://<span class="nv">$host$request_uri</span><span class="p">;</span>

    <span class="c1">#SSL-END</span>
    
    <span class="c1">#ERROR-PAGE-START  é”™è¯¯é¡µé…ç½®ï¼Œå¯ä»¥æ³¨é‡Šã€åˆ é™¤æˆ–ä¿®æ”¹</span>
    error_page <span class="m">404</span> /404.html<span class="p">;</span>
    error_page <span class="m">502</span> /502.html<span class="p">;</span>
    <span class="c1">#ERROR-PAGE-END</span>
    
    <span class="c1">#PHP-INFO-START  PHPå¼•ç”¨é…ç½®ï¼Œå¯ä»¥æ³¨é‡Šæˆ–ä¿®æ”¹</span>
    include enable-php-72.conf<span class="p">;</span>
    <span class="c1">#PHP-INFO-END</span>
    
    <span class="c1">#REWRITE-START URLé‡å†™è§„åˆ™å¼•ç”¨,ä¿®æ”¹åå°†å¯¼è‡´é¢æ¿è®¾ç½®çš„ä¼ªé™æ€è§„åˆ™å¤±æ•ˆ</span>
    include /www/server/panel/vhost/rewrite/ä½ çš„åŸŸå.conf<span class="p">;</span>
    <span class="c1">#REWRITE-END</span>
    
    <span class="c1">#ç¦æ­¢è®¿é—®çš„æ–‡ä»¶æˆ–ç›®å½•</span>
    location ~ ^/<span class="o">(</span><span class="se">\.</span>user.ini<span class="p">|</span><span class="se">\.</span>htaccess<span class="p">|</span><span class="se">\.</span>git<span class="p">|</span><span class="se">\.</span>svn<span class="p">|</span><span class="se">\.</span>project<span class="p">|</span>LICENSE<span class="p">|</span>README.md<span class="o">)</span>
    <span class="o">{</span>
        <span class="k">return</span> <span class="m">404</span><span class="p">;</span>
    <span class="o">}</span>
    
    <span class="c1">#ä¸€é”®ç”³è¯·SSLè¯ä¹¦éªŒè¯ç›®å½•ç›¸å…³è®¾ç½®</span>
    location ~ <span class="se">\.</span>well-known<span class="o">{</span>
        allow all<span class="p">;</span>
    <span class="o">}</span>
    
    location ~ .*<span class="se">\.</span><span class="o">(</span>gif<span class="p">|</span>jpg<span class="p">|</span>jpeg<span class="p">|</span>png<span class="p">|</span>bmp<span class="p">|</span>swf<span class="o">)</span>$
    <span class="o">{</span>
        expires      30d<span class="p">;</span>
        error_log off<span class="p">;</span>
        access_log off<span class="p">;</span>
    <span class="o">}</span>
    
    location ~ .*<span class="se">\.</span><span class="o">(</span>js<span class="p">|</span>css<span class="o">)</span>?$
    <span class="o">{</span>
        expires      12h<span class="p">;</span>
        error_log off<span class="p">;</span>
        access_log off<span class="p">;</span> 
    <span class="o">}</span>
    access_log  /www/wwwlogs/ä½ çš„åŸŸå.log<span class="p">;</span>
    error_log  /www/wwwlogs/ä½ çš„åŸŸå.error.log<span class="p">;</span>
             location /ws/ <span class="o">{</span>   
             proxy_redirect off<span class="p">;</span>
             proxy_pass http://127.0.0.1:ä½ çš„ç«¯å£<span class="p">;</span> 
             proxy_http_version <span class="m">1</span>.1<span class="p">;</span>
             proxy_set_header Upgrade <span class="nv">$http_upgrade</span><span class="p">;</span>
             proxy_set_header Connection <span class="s2">&#34;upgrade&#34;</span><span class="p">;</span>
             proxy_set_header Host <span class="nv">$http_host</span><span class="p">;</span>            
          <span class="o">}</span>
<span class="o">}</span></code></pre></td></tr></table>
</div>
</div>
<p>è­‰æ›¸ç”³è«‹ä¹‹é¡çš„è«‹è‡ªè¡Œåƒè€ƒä½¿ç”¨<strong>acme.sh</strong></p>

<h3 id="websocketè§£æ±ºbad-request">WebSocketè§£æ±ºBad Request</h3>

<p>è½‰è‡ª<a href="https://www.ivyseeds.cf/websockets2/" target="_blank">ä»é›¶å¼€å§‹å®‰è£…çˆ±å›½å·¥å…·æŒ‡å—ï¼ˆåå››ï¼‰V2Rayè¡¥å……ã€WebSocketsæ¨¡å¼è¡¥å®Œ</a></p>

<h4 id="ä¿®æ”¹nginx-conf">ä¿®æ”¹nginx.conf</h4>

<p>æ–‡ä»¶ä½<code>äº/usr/local/nginx/conf/</code></p>

<p>åœ¨ä»£ç <code>http{}</code>æ®µé‡Œæ·»åŠ ä¸€å¥</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">proxy_intercept_errors on;</pre></td></tr></table>
</div>
</div>
<p>ä¿å­˜é€€å‡ºå³å¯</p>

<h4 id="ä¿®æ”¹vhostæ–‡ä»¶">ä¿®æ”¹vhostæ–‡ä»¶</h4>

<p>æ–‡ä»¶ä½äº<code>/usr/local/nginx/conf/vhost/</code></p>

<p>åœ¨443ç«¯å£çš„é…ç½®é‡ŒåŠ ä¸€å¥ï¼Œæ¯”å¦‚èªªæˆ‘è·³è½‰å›åˆ°<a href="https://mrsheep.win" target="_blank">mrsheep.win</a></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">error_page 400 = https://www.mrsheep.win;</pre></td></tr></table>
</div>
</div>
<p>ä¿å­˜é€€å‡ºé‡å¯nginx</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">service nginx restart</pre></td></tr></table>
</div>
</div>
<h1 id="v2ray">V2Ray</h1>

<h2 id="å®‰è£">å®‰è£</h2>

<h3 id="å®˜æ–¹å®‰è£">å®˜æ–¹å®‰è£</h3>

<p><strong>å¦‚æœä½ æƒ³è¦ä½¿ç”¨ç®¡ç†è…³æœ¬ç­‰ï¼Œè«‹ç›´æ¥è·³éæœ¬ç¯€</strong>
ä½¿ç”¨å®˜æ–¹å®‰è£è…³æœ¬: <a href="https://www.v2ray.com/chapter_00/install.html#linuxscript" target="_blank">www.v2ray.com/chapter_00/install.html#linuxscript</a>
<strong>è«‹ä½¿ç”¨rootç”¨æˆ¶é‹è¡Œä¸€ä¸‹è…³æœ¬</strong>
è¿è¡Œä¸‹é¢çš„æŒ‡ä»¤ä¸‹è½½å¹¶å®‰è£…  V2Rayã€‚å½“ yum æˆ– apt-get å¯ç”¨çš„æƒ…å†µä¸‹ï¼Œæ­¤è„šæœ¬ä¼šè‡ªåŠ¨å®‰è£… unzip å’Œ daemonã€‚è¿™ä¸¤ä¸ªç»„ä»¶æ˜¯å®‰è£… V2Ray  çš„å¿…è¦ç»„ä»¶ã€‚å¦‚æœä½ ä½¿ç”¨çš„ç³»ç»Ÿä¸æ”¯æŒ yum æˆ– apt-getï¼Œè¯·è‡ªè¡Œå®‰è£… unzip å’Œ daemon</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">bash &lt;<span class="o">(</span>curl -L -s https://install.direct/go.sh<span class="o">)</span></code></pre></td></tr></table>
</div>
</div>
<p><strong>æ­¤è„šæœ¬ä¼šè‡ªåŠ¨å®‰è£…ä»¥ä¸‹æ–‡ä»¶ï¼š</strong></p>

<p><code>/usr/bin/v2ray/v2ray</code>ï¼šV2Ray ç¨‹åºï¼›
<code>/usr/bin/v2ray/v2ctl</code>ï¼šV2Ray å·¥å…·ï¼›
<code>/etc/v2ray/config.json</code>ï¼šé…ç½®æ–‡ä»¶ï¼›
<code>/usr/bin/v2ray/geoip.dat</code>ï¼šIP æ•°æ®æ–‡ä»¶
<code>/usr/bin/v2ray/geosite.dat</code>ï¼šåŸŸåæ•°æ®æ–‡ä»¶
é…ç½®<code>/etc/v2ray/config.json</code>å³å¯</p>

<h3 id="è…³æœ¬">è…³æœ¬</h3>

<p>é€™è£åƒ…åƒ…ä½¿ç”¨Multi-V2Rayï¼Œå…¶ä»–çš„è«‹è‡ªè¡Œåƒè€ƒå°æ‡‰wiki</p>

<h4 id="multi-v2ray">Multi-V2Ray</h4>

<p>é …ç›®åœ°å€ï¼š<a href="https://github.com/Jrohy/multi-v2ray" target="_blank">https://github.com/Jrohy/multi-v2ray</a>
é‹è¡Œå‘½ä»¤å®‰è£ï¼Œ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="nb">source</span> &lt;<span class="o">(</span>curl -sL https://git.io/fNgqx<span class="o">)</span></code></pre></td></tr></table>
</div>
</div>
<p>éƒ¨åˆ†VPSå®‰è£å®Œæˆä¹‹å¾Œæç¤ºæ‰¾ä¸åˆ°v2rayå‘½ä»¤ï¼Œè«‹é‹è¡Œ<code>/usr/local/multi-v2ray/v2ray</code></p>

<h5 id="å‘½ä»¤è¡Œåƒæ•¸">å‘½ä»¤è¡Œåƒæ•¸ï¼š</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">   v2ray -h                   æŸ¥çœ‹å¸®åŠ©
   v2ray -v                   æŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯
   v2ray start                å¯åŠ¨ V2Ray
   v2ray stop                 åœæ­¢ V2Ray
   v2ray restart              é‡å¯ V2Ray
   v2ray status               æŸ¥çœ‹ V2Ray è¿è¡ŒçŠ¶æ€
   v2ray log                  æŸ¥çœ‹ V2Ray è¿è¡Œæ—¥å¿—
   v2ray update               æ›´æ–° V2Ray åˆ°æœ€æ–°Releaseç‰ˆæœ¬
   v2ray update <span class="o">[</span>version<span class="o">]</span>     æ›´æ–° V2Ray åˆ°ç‰¹å®šç‰ˆæœ¬
   v2ray update.sh            æ›´æ–° multi-v2ray è„šæœ¬
   v2ray update.sh <span class="o">[</span>version<span class="o">]</span>  æ›´æ–° multi-v2ray åˆ°ç‰¹å®šç‰ˆæœ¬
   v2ray add                  æ–°å¢mkcp + éšæœºä¸€ç§ <span class="o">(</span>srtp <span class="p">|</span> wechat-video <span class="p">|</span> utp<span class="o">)</span> headerä¼ªè£…çš„ç«¯å£<span class="o">(</span>Group<span class="o">)</span>
   v2ray add <span class="o">[</span>wechat<span class="p">|</span>utp<span class="p">|</span>srtp<span class="p">|</span>dtls<span class="p">|</span>wireguard<span class="p">|</span>socks<span class="p">|</span>mtproto<span class="p">|</span>ss<span class="o">]</span>     æ–°å¢ä¸€ç§åè®®çš„ç»„ï¼Œç«¯å£éšæœº,å¦‚ v2ray add utp ä¸ºæ–°å¢utpåè®®
   v2ray del                  åˆ é™¤ç«¯å£ç»„
   v2ray info                 æŸ¥çœ‹é…ç½®
   v2ray port                 ä¿®æ”¹ç«¯å£
   v2ray tls                  ä¿®æ”¹tls
   v2ray tfo                  ä¿®æ”¹tcpFastOpen
   v2ray stream               ä¿®æ”¹ä¼ è¾“åè®®
   v2ray stats                iptablesæµé‡ç»Ÿè®¡
   v2ray clean                æ¸…ç†æ—¥å¿—</code></pre></td></tr></table>
</div>
</div>
<p>æ›´å¤šè«‹åƒè€ƒ: <a href="https://github.com/Jrohy/multi-v2ray/wiki" target="_blank">https://github.com/Jrohy/multi-v2ray/wiki</a></p>

<h2 id="é…ç½®-1">é…ç½®</h2>

<h3 id="tls">TLS</h3>

<p>è­‰æ›¸çš„è©±å¯ä»¥ç›´æ¥ä½¿ç”¨Caddyè‡ªå‹•ç”³è«‹Letâ€˜s Encryptçš„è­‰æ›¸ï¼Œ3å€‹æœˆçºŒå‘½ä¸€æ¬¡å³å¯</p>

<p>å…¶ä»–çš„è©±å¦‚ä½¿ç”¨Cloudflareç°½ç™¼çš„è­‰æ›¸ï¼Œè«‹åƒè€ƒä¸Šé¢ [Caddyé…ç½®][é…ç½®]</p>

<h3 id="dns">DNS</h3>

<p><strong>æ¨èçš„DNSæœåŠ¡å•†ï¼ˆå…è´¹ï¼‰ï¼šGeoscalingï¼ŒCloudflareï¼ˆä»…ä½¿ç”¨DNSï¼‰</strong>
ä¸å»ºè®®ä½¿ç”¨å›½å†…è§£ææœåŠ¡ï¼ŒVPSæä¾›çš„DNSæœåŠ¡ï¼ˆä¾‹å¦‚Conohaçš„DNSè§£æï¼‰</p>

<h3 id="bbr">BBR</h3>

<h4 id="æ›æ ¸">æ›æ ¸</h4>

<p>å¦‚æœä½ ä¸éœ€è¦ï¼Œè«‹ç›´æ¥è·³é</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">//å¯¼å…¥key
rpm --import https://www.elrepo.org/RPM-GPG-KEY-elrepo.org
//å®‰è£… elrepo çš„yumæº
rpm -Uvh http://www.elrepo.org/elrepo-release-7.0-2.el7.elrepo.noarch.rpm
//å®‰è£…å†…æ ¸
yum --enablerepo<span class="o">=</span>elrepo-kernel install kernel-ml-devel kernel-ml -y
//æŸ¥çœ‹ç³»ç»Ÿå¯åŠ¨é¡¹ï¼š
cat /boot/grub2/grub.cfg <span class="p">|</span>grep menuentry
//è®¾ç½®æœ€æ–°ç‰ˆæœ¬å†…æ ¸ä¸ºé»˜è®¤å¯åŠ¨ï¼š
grub2-set-default <span class="err">&#39;</span>æœ€æ–°çš„å…§æ ¸ï¼Œå¦‚CentOS Linux <span class="o">(</span><span class="m">4</span>.8.5-1.el7.elrepo.x86_64<span class="o">)</span> <span class="m">7</span> <span class="o">(</span>Core<span class="o">)</span></code></pre></td></tr></table>
</div>
</div>
<p><strong>æ³¨ï¼šè«‹ä¸€å®šç­‰å¾…å®‰è£å®Œæˆ</strong></p>

<p>æ­¤æ—¶ï¼ŒæŸ¥çœ‹é»˜è®¤å¯åŠ¨çš„ç³»ç»Ÿç‰ˆæœ¬</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">grub2-editenv list</code></pre></td></tr></table>
</div>
</div>
<p>æ˜¾ç¤ºä¸º&rsquo;CentOS Linux (4.8.5-1.el7.elrepo.x86_64) 7 (Core)&lsquo;æˆ–é¡ä¼¼ï¼Œrebootä¹‹åå†æ¬¡æŸ¥çœ‹ <code>uname -r</code></p>

<h4 id="é–‹å•“bbr">é–‹å•“BBR</h4>

<p>è¤‡è£½å¦‚ä¸‹å‘½ä»¤å³å¯</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">cat &gt;&gt;/etc/sysctl.conf <span class="s">&lt;&lt; EOF
</span><span class="s">net.core.default_qdisc=fq
</span><span class="s">net.ipv4.tcp_congestion_control=bbr
</span><span class="s">EOF</span></code></pre></td></tr></table>
</div>
</div>
<p>å†ç»§ç»­å†…æ ¸å‚æ•°ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">sysctl -p</pre></td></tr></table>
</div>
</div>
<p>è¿”å›é¡ä¼¼çµæœ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span></pre></td>
<td class="lntd">
<pre class="chroma">net.core.default_qdisc = fq
net.ipv4.tcp_congestion_control = bbr</pre></td></tr></table>
</div>
</div>
<p>æœ€åä¿é™©èµ·è§ï¼Œå¤æ ¸ä¸€ä¸‹BBRæ˜¯å¦ç”Ÿæ•ˆï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></pre></td>
<td class="lntd">
<pre class="chroma">sysctl net.ipv4.tcp_available_congestion_control

lsmod | grep bbr</pre></td></tr></table>
</div>
</div>
<p>è¿”å›é¡ä¼¼</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></pre></td>
<td class="lntd">
<pre class="chroma">net.ipv4.tcp_available_congestion_control = reno cubic bbr

tcp_bbr                20480  41 </pre></td></tr></table>
</div>
</div>
<h4 id="cdn">CDN</h4>

<p>å€‹äººä¸éœ€è¦å¥—CDNï¼Œç•¶å‰åœ°å€å°é–ä¸åš´é‡</p>

<h4 id="é…ç½®æ¨¡æ¿">é…ç½®æ¨¡æ¿</h4>

<p>æˆ‘çš„éƒ¨åˆ†é…ç½®å¯ä»¥åƒè€ƒ</p>

<h5 id="æœå‹™ç«¯">æœå‹™ç«¯</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json"><span class="p">{</span>
  <span class="nt">&#34;inbound&#34;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&#34;streamSettings&#34;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&#34;network&#34;</span><span class="p">:</span> <span class="s2">&#34;ws&#34;</span><span class="p">,</span> 
      <span class="nt">&#34;wsSettings&#34;</span><span class="p">:</span> <span class="p">{</span> 
        <span class="nt">&#34;headers&#34;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&#34;host&#34;</span><span class="p">:</span> <span class="s2">&#34;ä½ çš„åŸŸå&#34;</span>
        <span class="p">},</span>
      <span class="nt">&#34;path&#34;</span><span class="p">:</span> <span class="s2">&#34;/ws/&#34;</span>
      <span class="p">}</span>
    <span class="p">},</span> 
    <span class="nt">&#34;protocol&#34;</span><span class="p">:</span> <span class="s2">&#34;vmess&#34;</span><span class="p">,</span> 
    <span class="nt">&#34;port&#34;</span><span class="p">:</span> <span class="err">ä½ çš„ç«¯å£</span><span class="p">,</span> 
    <span class="nt">&#34;settings&#34;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&#34;clients&#34;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="nt">&#34;alterId&#34;</span><span class="p">:</span> <span class="mi">64</span><span class="p">,</span> 
          <span class="nt">&#34;security&#34;</span><span class="p">:</span> <span class="s2">&#34;auto&#34;</span><span class="p">,</span> 
          <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="s2">&#34;ä½ çš„uuid&#34;</span><span class="p">,</span> 
          <span class="nt">&#34;level&#34;</span><span class="p">:</span> <span class="mi">1</span>
        <span class="p">}</span>
      <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">},</span> 
  <span class="nt">&#34;outboundDetour&#34;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&#34;tag&#34;</span><span class="p">:</span> <span class="s2">&#34;blocked&#34;</span><span class="p">,</span> 
      <span class="nt">&#34;protocol&#34;</span><span class="p">:</span> <span class="s2">&#34;blackhole&#34;</span><span class="p">,</span> 
      <span class="nt">&#34;settings&#34;</span><span class="p">:</span> <span class="p">{}</span>
    <span class="p">}</span>
  <span class="p">],</span> 
  <span class="nt">&#34;outbound&#34;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&#34;protocol&#34;</span><span class="p">:</span> <span class="s2">&#34;freedom&#34;</span><span class="p">,</span> 
    <span class="nt">&#34;settings&#34;</span><span class="p">:</span> <span class="p">{}</span>
  <span class="p">},</span> 
  <span class="nt">&#34;log&#34;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&#34;access&#34;</span><span class="p">:</span> <span class="s2">&#34;/var/log/v2ray/access.log&#34;</span><span class="p">,</span> 
    <span class="nt">&#34;loglevel&#34;</span><span class="p">:</span> <span class="s2">&#34;info&#34;</span><span class="p">,</span> 
    <span class="nt">&#34;error&#34;</span><span class="p">:</span> <span class="s2">&#34;/var/log/v2ray/error.log&#34;</span>
  <span class="p">},</span> 
  <span class="nt">&#34;routing&#34;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&#34;settings&#34;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&#34;rules&#34;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="nt">&#34;ip&#34;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">&#34;0.0.0.0/8&#34;</span><span class="p">,</span> 
            <span class="s2">&#34;10.0.0.0/8&#34;</span><span class="p">,</span> 
            <span class="s2">&#34;100.64.0.0/10&#34;</span><span class="p">,</span> 
            <span class="s2">&#34;127.0.0.0/8&#34;</span><span class="p">,</span> 
            <span class="s2">&#34;169.254.0.0/16&#34;</span><span class="p">,</span> 
            <span class="s2">&#34;172.16.0.0/12&#34;</span><span class="p">,</span> 
            <span class="s2">&#34;192.0.0.0/24&#34;</span><span class="p">,</span> 
            <span class="s2">&#34;192.0.2.0/24&#34;</span><span class="p">,</span> 
            <span class="s2">&#34;192.168.0.0/16&#34;</span><span class="p">,</span> 
            <span class="s2">&#34;198.18.0.0/15&#34;</span><span class="p">,</span> 
            <span class="s2">&#34;198.51.100.0/24&#34;</span><span class="p">,</span> 
            <span class="s2">&#34;203.0.113.0/24&#34;</span><span class="p">,</span> 
            <span class="s2">&#34;::1/128&#34;</span><span class="p">,</span> 
            <span class="s2">&#34;fc00::/7&#34;</span><span class="p">,</span> 
            <span class="s2">&#34;fe80::/10&#34;</span>
          <span class="p">],</span> 
          <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;field&#34;</span><span class="p">,</span> 
          <span class="nt">&#34;outboundTag&#34;</span><span class="p">:</span> <span class="s2">&#34;blocked&#34;</span>
        <span class="p">}</span>
      <span class="p">]</span>
    <span class="p">},</span> 
    <span class="nt">&#34;strategy&#34;</span><span class="p">:</span> <span class="s2">&#34;rules&#34;</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<h5 id="å®¢æˆ¶ç«¯">å®¢æˆ¶ç«¯</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json"><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json"><span class="p">{</span>
  <span class="nt">&#34;policy&#34;</span> <span class="p">:</span> <span class="p">{</span>
    <span class="nt">&#34;levels&#34;</span> <span class="p">:</span> <span class="p">{</span>
      <span class="nt">&#34;0&#34;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="nt">&#34;uplinkOnly&#34;</span> <span class="p">:</span> <span class="mi">0</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nt">&#34;dns&#34;</span> <span class="p">:</span> <span class="p">{</span>
    <span class="nt">&#34;servers&#34;</span> <span class="p">:</span> <span class="p">[</span>
      <span class="s2">&#34;localhost&#34;</span><span class="p">,</span>
      <span class="s2">&#34;8.8.8.8&#34;</span>
    <span class="p">]</span>
  <span class="p">},</span>
  <span class="nt">&#34;outboundDetour&#34;</span> <span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&#34;protocol&#34;</span> <span class="p">:</span> <span class="s2">&#34;freedom&#34;</span><span class="p">,</span>
      <span class="nt">&#34;tag&#34;</span> <span class="p">:</span> <span class="s2">&#34;direct&#34;</span><span class="p">,</span>
      <span class="nt">&#34;settings&#34;</span> <span class="p">:</span> <span class="p">{</span>

      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="nt">&#34;inbound&#34;</span> <span class="p">:</span> <span class="p">{</span>
    <span class="nt">&#34;listen&#34;</span> <span class="p">:</span> <span class="s2">&#34;0.0.0.0&#34;</span><span class="p">,</span>
    <span class="nt">&#34;port&#34;</span> <span class="p">:</span> <span class="mi">1081</span><span class="p">,</span>
    <span class="nt">&#34;protocol&#34;</span> <span class="p">:</span> <span class="s2">&#34;socks&#34;</span><span class="p">,</span>
    <span class="nt">&#34;settings&#34;</span> <span class="p">:</span> <span class="p">{</span>
      <span class="nt">&#34;auth&#34;</span> <span class="p">:</span> <span class="s2">&#34;noauth&#34;</span><span class="p">,</span>
      <span class="nt">&#34;udp&#34;</span> <span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="nt">&#34;ip&#34;</span> <span class="p">:</span> <span class="s2">&#34;127.0.0.1&#34;</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nt">&#34;inboundDetour&#34;</span> <span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&#34;listen&#34;</span> <span class="p">:</span> <span class="s2">&#34;0.0.0.0&#34;</span><span class="p">,</span>
      <span class="nt">&#34;allocate&#34;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="nt">&#34;strategy&#34;</span> <span class="p">:</span> <span class="s2">&#34;always&#34;</span><span class="p">,</span>
        <span class="nt">&#34;refresh&#34;</span> <span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
        <span class="nt">&#34;concurrency&#34;</span> <span class="p">:</span> <span class="mi">3</span>
      <span class="p">},</span>
      <span class="nt">&#34;port&#34;</span> <span class="p">:</span> <span class="mi">8001</span><span class="p">,</span>
      <span class="nt">&#34;protocol&#34;</span> <span class="p">:</span> <span class="s2">&#34;http&#34;</span><span class="p">,</span>
      <span class="nt">&#34;tag&#34;</span> <span class="p">:</span> <span class="s2">&#34;httpDetour&#34;</span><span class="p">,</span>
      <span class="nt">&#34;domainOverride&#34;</span> <span class="p">:</span> <span class="p">[</span>
        <span class="s2">&#34;http&#34;</span><span class="p">,</span>
        <span class="s2">&#34;tls&#34;</span>
      <span class="p">],</span>
      <span class="nt">&#34;streamSettings&#34;</span> <span class="p">:</span> <span class="p">{</span>

      <span class="p">},</span>
      <span class="nt">&#34;settings&#34;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="nt">&#34;timeout&#34;</span> <span class="p">:</span> <span class="mi">0</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="nt">&#34;log&#34;</span> <span class="p">:</span> <span class="p">{</span>
    <span class="nt">&#34;error&#34;</span> <span class="p">:</span> <span class="s2">&#34;\/var\/folders\/jt\/dc88j3317917cz1n8mxqj8jc0000gn\/T\/cenmrev.v2rayx.log.C2EAD579-EFCE-4BEC-91A2-61E4760E1219\/error.log&#34;</span><span class="p">,</span>
    <span class="nt">&#34;loglevel&#34;</span> <span class="p">:</span> <span class="s2">&#34;debug&#34;</span><span class="p">,</span>
    <span class="nt">&#34;access&#34;</span> <span class="p">:</span> <span class="s2">&#34;\/var\/folders\/jt\/dc88j3317917cz1n8mxqj8jc0000gn\/T\/cenmrev.v2rayx.log.C2EAD579-EFCE-4BEC-91A2-61E4760E1219\/access.log&#34;</span>
  <span class="p">},</span>
  <span class="nt">&#34;routing&#34;</span> <span class="p">:</span> <span class="p">{</span>
    <span class="nt">&#34;strategy&#34;</span> <span class="p">:</span> <span class="s2">&#34;rules&#34;</span><span class="p">,</span>
    <span class="nt">&#34;settings&#34;</span> <span class="p">:</span> <span class="p">{</span>
      <span class="nt">&#34;domainStrategy&#34;</span> <span class="p">:</span> <span class="s2">&#34;IPIfNonMatch&#34;</span><span class="p">,</span>
      <span class="nt">&#34;rules&#34;</span> <span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="nt">&#34;domain&#34;</span> <span class="p">:</span> <span class="p">[</span>
            <span class="s2">&#34;localhost&#34;</span>
          <span class="p">],</span>
          <span class="nt">&#34;type&#34;</span> <span class="p">:</span> <span class="s2">&#34;field&#34;</span><span class="p">,</span>
          <span class="nt">&#34;outboundTag&#34;</span> <span class="p">:</span> <span class="s2">&#34;direct&#34;</span>
        <span class="p">},</span>
        <span class="p">{</span>
          <span class="nt">&#34;type&#34;</span> <span class="p">:</span> <span class="s2">&#34;field&#34;</span><span class="p">,</span>
          <span class="nt">&#34;outboundTag&#34;</span> <span class="p">:</span> <span class="s2">&#34;direct&#34;</span><span class="p">,</span>
          <span class="nt">&#34;ip&#34;</span> <span class="p">:</span> <span class="p">[</span>
            <span class="s2">&#34;geoip:private&#34;</span>
          <span class="p">]</span>
        <span class="p">}</span>
      <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nt">&#34;outbound&#34;</span> <span class="p">:</span> <span class="p">{</span>
    <span class="nt">&#34;sendThrough&#34;</span> <span class="p">:</span> <span class="s2">&#34;0.0.0.0&#34;</span><span class="p">,</span>
    <span class="nt">&#34;mux&#34;</span> <span class="p">:</span> <span class="p">{</span>
      <span class="nt">&#34;enabled&#34;</span> <span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="nt">&#34;concurrency&#34;</span> <span class="p">:</span> <span class="mi">8</span>
    <span class="p">},</span>
    <span class="nt">&#34;protocol&#34;</span> <span class="p">:</span> <span class="s2">&#34;vmess&#34;</span><span class="p">,</span>
    <span class="nt">&#34;settings&#34;</span> <span class="p">:</span> <span class="p">{</span>
      <span class="nt">&#34;vnext&#34;</span> <span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="nt">&#34;address&#34;</span> <span class="p">:</span> <span class="s2">&#34;ä½ çš„åŸŸå&#34;</span><span class="p">,</span>
          <span class="nt">&#34;port&#34;</span> <span class="p">:</span> <span class="mi">443</span><span class="p">,</span>
          <span class="nt">&#34;users&#34;</span> <span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
              <span class="nt">&#34;id&#34;</span> <span class="p">:</span> <span class="s2">&#34;ä½ çš„UUID&#34;</span><span class="p">,</span>
              <span class="nt">&#34;alterId&#34;</span> <span class="p">:</span> <span class="mi">64</span><span class="p">,</span>
              <span class="nt">&#34;security&#34;</span> <span class="p">:</span> <span class="s2">&#34;auto&#34;</span><span class="p">,</span>
              <span class="nt">&#34;level&#34;</span> <span class="p">:</span> <span class="mi">0</span>
            <span class="p">}</span>
          <span class="p">],</span>
          <span class="nt">&#34;remark&#34;</span> <span class="p">:</span> <span class="s2">&#34;é€™å€‹&#34;</span>
        <span class="p">}</span>
      <span class="p">]</span>
    <span class="p">},</span>
    <span class="nt">&#34;streamSettings&#34;</span> <span class="p">:</span> <span class="p">{</span>
      <span class="nt">&#34;wsSettings&#34;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="nt">&#34;path&#34;</span> <span class="p">:</span> <span class="s2">&#34;\/ws\/&#34;</span><span class="p">,</span><span class="err">ä½ çš„path</span>
        <span class="nt">&#34;headers&#34;</span> <span class="p">:</span> <span class="p">{</span>
          <span class="nt">&#34;Host&#34;</span> <span class="p">:</span> <span class="s2">&#34;ä½ çš„åŸŸå&#34;</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="nt">&#34;tlsSettings&#34;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="nt">&#34;serverName&#34;</span> <span class="p">:</span> <span class="s2">&#34;ä½ çš„åŸŸå&#34;</span><span class="p">,</span>
        <span class="nt">&#34;allowInsecure&#34;</span> <span class="p">:</span> <span class="kc">false</span>
      <span class="p">},</span>
      <span class="nt">&#34;httpSettings&#34;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="nt">&#34;path&#34;</span> <span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
        <span class="nt">&#34;host&#34;</span> <span class="p">:</span> <span class="p">[</span>
          <span class="s2">&#34;&#34;</span>
        <span class="p">]</span>
      <span class="p">},</span>
      <span class="nt">&#34;tcpSettings&#34;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="nt">&#34;header&#34;</span> <span class="p">:</span> <span class="p">{</span>
          <span class="nt">&#34;type&#34;</span> <span class="p">:</span> <span class="s2">&#34;none&#34;</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="nt">&#34;kcpSettings&#34;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="nt">&#34;header&#34;</span> <span class="p">:</span> <span class="p">{</span>
          <span class="nt">&#34;type&#34;</span> <span class="p">:</span> <span class="s2">&#34;none&#34;</span>
        <span class="p">},</span>
        <span class="nt">&#34;mtu&#34;</span> <span class="p">:</span> <span class="mi">1350</span><span class="p">,</span>
        <span class="nt">&#34;congestion&#34;</span> <span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="nt">&#34;tti&#34;</span> <span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
        <span class="nt">&#34;uplinkCapacity&#34;</span> <span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
        <span class="nt">&#34;writeBufferSize&#34;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="nt">&#34;readBufferSize&#34;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="nt">&#34;downlinkCapacity&#34;</span> <span class="p">:</span> <span class="mi">20</span>
      <span class="p">},</span>
      <span class="nt">&#34;network&#34;</span> <span class="p">:</span> <span class="s2">&#34;ws&#34;</span><span class="p">,</span>
      <span class="nt">&#34;security&#34;</span> <span class="p">:</span> <span class="s2">&#34;tls&#34;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<h1 id="åƒè€ƒéˆæ¥">åƒè€ƒéˆæ¥</h1>

<p><a href="https://www.v2ray.com" target="_blank">V2Rayé …ç›®</a></p>]]></content>
            
            
            
            
            
                
                    
                
                    
                
            
        </entry>
    
        <entry>
            <title type="text">V2Ray Force Ipv4</title>
            <link rel="alternate" type="text/html" href="https://blog.mrsheep.xyz/posts/v2ray-force-ipv4/" />
            <id>https://blog.mrsheep.xyz/posts/v2ray-force-ipv4/</id>
            <updated>2019-11-16T17:57:52+08:00</updated>
            <published>2019-09-15T02:11:05+08:00</published>
            <author>
                    <name>MrSheep</name>
                    <uri>https://blog.mrsheep.xyz</uri>
                    <email>admin@mrsheep.xyz</email>
                    </author>
            <rights>![CC BY-NC-SA 4.0](https://mirrors.creativecommons.org/presskit/buttons/88x31/svg/by-nc-sa.svg)  ![996 ICU](https://img.shields.io/badge/link-996.icu-red.svg)</rights><summary type="html"><![CDATA[æˆ‘åœ¨æœºå™¨ä¸Šå¼€äº†6to4çš„éš§é“ï¼Œæœ¬ä¾†æ˜¯æº–å‚™ç”¨ä¾†å»£æ’­æˆ‘è‡ªå·±çš„ipv6ï¼Œä½†æ˜¯é€™æ¨£å­å¯¼è‡´V2Rayæµé‡ä¼šè¢«è½¬å‘åˆ°HEçš„éš§é“ipï¼Œæœ€åNFä¼šç›´æ¥banæ‰HEçš„ip æ‰€ä»¥æˆ‘ä¸åºŸè¯äº†â€¦]]></summary>
            
                <content type="html"><![CDATA[<p>æˆ‘åœ¨æœºå™¨ä¸Šå¼€äº†6to4çš„éš§é“ï¼Œæœ¬ä¾†æ˜¯æº–å‚™ç”¨ä¾†å»£æ’­æˆ‘è‡ªå·±çš„ipv6ï¼Œä½†æ˜¯é€™æ¨£å­å¯¼è‡´V2Rayæµé‡ä¼šè¢«è½¬å‘åˆ°HEçš„éš§é“ipï¼Œæœ€åNFä¼šç›´æ¥banæ‰HEçš„ip
æ‰€ä»¥æˆ‘ä¸åºŸè¯äº†&hellip;</p>

<h1 id="freedom">Freedom</h1>

<p>éœ€è¦ç”¨åˆ°çš„å°±æ˜¯Freedomæ˜¯é€™å€‹å”è­°ï¼Œå¾V2rayå®˜ç¶²ä¸Šæœ‰å¦‚ä¸‹è§£é‡‹ï¼š
<strong>Freedom æ˜¯ä¸€ä¸ªå‡ºç«™åè®®ï¼Œå¯ä»¥ç”¨æ¥å‘ä»»æ„ç½‘ç»œå‘é€ï¼ˆæ­£å¸¸çš„ï¼‰ TCP æˆ– UDP æ•°æ®</strong>
åœ¨ç›®æ ‡åœ°å€ä¸ºåŸŸåæ—¶ï¼ŒFreedom å¯ä»¥ç›´æ¥å‘æ­¤åŸŸåå‘å‡ºè¿æ¥ï¼ˆ&rdquo;AsIs&rdquo;ï¼‰ï¼Œæˆ–è€…å°†åŸŸåè§£æä¸º IP ä¹‹åå†å»ºç«‹è¿æ¥ï¼ˆ&rdquo;UseIP&rdquo;ã€&rdquo;UseIPv4&rdquo;ã€&rdquo;UseIPv6&rdquo;ï¼‰ã€‚è§£æ IP çš„æ­¥éª¤ä¼šä½¿ç”¨ V2Ray å†…å»ºçš„ DNSã€‚é»˜è®¤å€¼ä¸º&rdquo;AsIs&rdquo;ã€‚</p>

<ol>
<li>(V2Ray 4.6+) å½“ä½¿ç”¨ <strong>&ldquo;UseIP&rdquo;</strong> æ¨¡å¼ï¼Œå¹¶ä¸”å‡ºç«™è¿æ¥é…ç½®ä¸­æŒ‡å®šäº†sendThroughæ—¶ï¼ŒFreedom ä¼šæ ¹æ®sendThroughçš„å€¼è‡ªåŠ¨åˆ¤æ–­æ‰€éœ€çš„IPç±»å‹ï¼ŒIPv4 æˆ– IPv6ã€‚</li>
<li>(V2Ray 4.7+) å½“ä½¿ç”¨ <strong>&ldquo;UseIPv4&rdquo;</strong> æˆ– <strong>&ldquo;UseIPv6&rdquo;</strong> æ¨¡å¼æ—¶ï¼ŒFreedom ä¼šåªä½¿ç”¨å¯¹åº”çš„ IPv4 æˆ– IPv6 åœ°å€ã€‚å½“sendThroughæŒ‡å®šäº†ä¸åŒ¹é…çš„æœ¬åœ°åœ°å€æ—¶ï¼Œå°†å¯¼è‡´è¿æ¥å¤±è´¥</li>
</ol>

<p>éœ€è¦ç”¨åˆ°é€™å€‹å”è­°:<a href="https://www.v2ray.com/chapter_02/protocols/freedom.html" target="_blank">V2Rayæ–‡æª”</a>
é—œæ–¼é…ç½®æ–‡æª”æ ¼å¼:<a href="https://www.v2ray.com/chapter_02/01_overview.html#outboundobject" target="_blank">V2Rayæ–‡æª”</a></p>

<h1 id="å…·é«”é…ç½®">å…·é«”é…ç½®</h1>

<p>ä¸€é»éƒ½ä¸è¤‡é›œï¼Œå’Œæœ¬éƒ¨åˆ†æ²’æœ‰é—œä¿‚çš„éƒ½å·²ç¶“å»æ‰</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span></pre></td>
<td class="lntd">
<pre class="chroma">  &#34;inbounds&#34;: [
    {
      &#34;port&#34;: 29708,
      &#34;protocol&#34;: &#34;vmess&#34;,
      &#34;settings&#34;:{
        &#34;clients&#34;: [
        {
          &#34;id&#34;: &#34;uuid&#34;,
          &#34;alterId&#34;: 16,
        }
      ]
    },
      &#34;streamSettings&#34;: {
        &#34;network&#34;: &#34;ws&#34;,
        &#34;security&#34;: &#34;auto&#34;,
        &#34;wsSettings&#34;: {
          &#34;path&#34;: &#34;/&#34;,
          &#34;connectionReuse&#34;:true,
          &#34;headers&#34;:{
          }
        },
      &#34;disableInsecureEncryption&#34;: true
    }
  }
],
  &#34;outbound&#34;:{
      &#34;sendThrough&#34;: &#34;0.0.0.0&#34;,
      &#34;protocol&#34;: &#34;freedom&#34;,
      &#34;settings&#34;: {
          &#34;domainStrategy&#34;: &#34;UseIPv4&#34;,
          &#34;userLevel&#34;: 0
      }
    }
}</pre></td></tr></table>
</div>
</div>
<p>å…¶å¯¦é€™åˆæ˜¯æ°´æ–‡ä¸€ç¯‡</p>

<h1 id="åƒè€ƒ">åƒè€ƒ</h1>

<p>V2ray.com</p>]]></content>
            
            
            
            
            
                
                    
                
                    
                
            
        </entry>
    
        <entry>
            <title type="text">å»£æ’­ä½ çš„ip</title>
            <link rel="alternate" type="text/html" href="https://blog.mrsheep.xyz/posts/broadcast-ip/" />
            <id>https://blog.mrsheep.xyz/posts/broadcast-ip/</id>
            <updated>2019-11-16T17:57:52+08:00</updated>
            <published>2019-09-13T17:47:00+08:00</published>
            <author>
                    <name>MrSheep</name>
                    <uri>https://blog.mrsheep.xyz</uri>
                    <email>admin@mrsheep.xyz</email>
                    </author>
            <rights>![CC BY-NC-SA 4.0](https://mirrors.creativecommons.org/presskit/buttons/88x31/svg/by-nc-sa.svg)  ![996 ICU](https://img.shields.io/badge/link-996.icu-red.svg)</rights><summary type="html"><![CDATA[æˆ‘çš„ASè™Ÿå’ŒIPéƒ½å·²ç¶“æ²¾ç°äº†ï¼Œå†ä¸ç”¨å°±è¦å¾¹åº•å¿˜äº†ã€‚
åœ¨ä½ é–‹å§‹ä¹‹å‰ï¼Œè«‹ç¢ºå®šä½ çš„ISP ä¸ºä½ åˆ†é…äº†ä¸€ä¸ªå…¬ç½‘ IPv4, ä¸¦ä¸”ä½ æ‹¥æœ‰ ASN å’Œä¸€ä¸ªè‡³å°‘ä¸º / 48 çš„ ipv6 block]]></summary>
            
                <content type="html"><![CDATA[<p>æˆ‘çš„ASè™Ÿå’ŒIPéƒ½å·²ç¶“æ²¾ç°äº†ï¼Œå†ä¸ç”¨å°±è¦å¾¹åº•å¿˜äº†ã€‚</p>

<p>åœ¨ä½ é–‹å§‹ä¹‹å‰ï¼Œè«‹ç¢ºå®šä½ çš„ISP ä¸ºä½ åˆ†é…äº†ä¸€ä¸ªå…¬ç½‘ IPv4, ä¸¦ä¸”ä½ æ‹¥æœ‰ ASN å’Œä¸€ä¸ªè‡³å°‘ä¸º / 48 çš„ ipv6 block</p>

<h1 id="é–‹å§‹ä¹‹å‰çš„ä¸€é»pyäº¤æ˜“">é–‹å§‹ä¹‹å‰çš„ä¸€é»PYäº¤æ˜“</h1>

<p>æº–å‚™Pyä¹‹å‰ï¼Œè«‹ç¢ºå®šå¦‚ä¸‹å…§å®¹(ä¾†è‡ªHE),ä¸ç„¶ä½ å»PYä¹Ÿæ²’æœ‰æ„ç¾©</p>

<p><strong>Through this interface you can request a static, IPv6 BGP tunnel that will receive full transit routes from AS6939 and be able to announce your RIR allocated IPv6 space. To minimize any issues or delays in turnup please note the following:
    Your ASN must be allocated from a RIR. (Public ASNs only)
    We must be able to validate that this is your ASN/address space (SWIP entries or a LoA will do)
    We will prefix-filter your BGP session. If you are adding new announcements, please let us know via an email to ipv6@he.net.
    We do not filter traffic. However, we do reserve the right to filter at our sole discretion as needed.
    If this is your first tunnel for this ASN, you should receive a message to your account&rsquo;s email address. Please follow the instructions in the email to complete the verification process. During this period the tunnel and BGP session will be unavailable. If you have not heard from us within 48 hours then please email ipv6@he.net.
    åœ°å€ï¼š<a href="https://blog.ni-co.moe/public/563.html" target="_blank">tunnelbroker.net</a></strong></p>

<p>ç„¶å¾Œä½ å°±å¯ä»¥å»è¨»å†Šä¸€å€‹å¸³è™Ÿï¼Œä¹‹å¾Œåˆ›å»ºä¸€ä¸ª BGP éš§é“ï¼Œé¸æ“‡æœ€è¿‘çš„èŠ‚ç‚¹ï¼Œå¡«å¯«ä½ çš„ASNä»¥åŠIPæ®µ
æœ€å¾Œä½ éœ€è¦ä¸€å°Authorize Letterï¼ˆLoAï¼‰
æäº¤24å°æ™‚å·¦å³PYäº¤æ˜“å°±æœƒæˆåŠŸ</p>

<h1 id="å‰µå»ºéš§é“">å‰µå»ºéš§é“</h1>

<p>è¨ªå•tunnelbroker</p>

<p><code>Tunnel - Example Config - Linux net-tools</code>
é…ç½®å¤§æ¦‚å¼µé€™å€‹æ¨£å­</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-ifconfig sit0 up" data-lang="ifconfig sit0 up"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-ifconfig sit0 up" data-lang="ifconfig sit0 up">ifconfig sit0 inet6 tunnel ::0.0.0.0
ifconfig sit1 up
ifconfig sit1 inet6 add ::::/64
route -A inet6 add ::/0 dev sit1</code></pre></td></tr></table>
</div>
</div>
<h1 id="å»£æ’­">å»£æ’­</h1>

<h3 id="å®‰è£bird6">å®‰è£bird6</h3>

<p><code>yum install bird6 -y</code></p>

<h3 id="ç·¨è¼¯-etc-bird6-conf">ç·¨è¼¯ <code>/etc/bird6.conf</code></h3>

<p>æ³¨æ„ï¼š</p>

<ol>
<li>router idè«‹å¯«æœ¬æ©Ÿip</li>
<li>local asæ˜¯ä½ çš„asn</li>
<li>source addæ˜¯HEçµ¦ä½ çš„client ip</li>

<li><p>neighboræ˜¯ HEåˆ†é…çš„ server ip,6939 ä¸º he çš„ asn å·ç </p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></pre></td>
<td class="lntd">
<pre class="chroma">router id æœ¬æ©Ÿip;
protocol bgp he{
    local as 208884;
    source address Client_ip;
    import none;
    export all;
    graceful restart on;
    multihop 2;
    neighbor server_ip as 6939;
}
protocol static
{
route  ä½ çš„ipæ®µ via cleint_ip;
}
protocol device
{
    scan time 5;
}</pre></td></tr></table>
</div>
</div></li>
</ol>

<p>ä¹‹å¾Œä¿å­˜æ¨å‡ºï¼Œé‡è¼‰birdé…ç½®ï¼Œæˆ–è€…é‡å•“birdå³å¯
æœ€å¾Œ<code>birdc6 show proto all</code>
é¡¯ç¤ºEstablishedå³å¯</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span></pre></td>
<td class="lntd">
<pre class="chroma">name     proto    table    state  since       info
he       BGP      master   up     17:40:47    Established   
  Preference:     100
  Input filter:   REJECT
  Output filter:  ACCEPT
  Routes:         0 imported, 1 exported, 0 preferred
  Route change stats:     received   rejected   filtered    ignored   accepted
    Import updates:           3457          0       3457          0          0
    Import withdraws:            0          0        ---       3457          0
    Export updates:              1          0          0        ---          1
    Export withdraws:            0        ---        ---        ---          0
  BGP state:          Established
    Neighbor address: 2001:470:d6:e::1
    Neighbor AS:      6939
    Neighbor ID:      64.71.128.26
    Neighbor caps:    refresh AS4
    Session:          external multihop AS4
    Source address:   2001:470:d6:e::2
    Hold timer:       179/180
    Keepalive timer:  52/60

static1  Static   master   up     17:40:42    
  Preference:     200
  Input filter:   ACCEPT
  Output filter:  REJECT
  Routes:         1 imported, 0 exported, 1 preferred
  Route change stats:     received   rejected   filtered    ignored   accepted
    Import updates:              1          0          0          0          1
    Import withdraws:            0          0        ---          0          0
    Export updates:              0          0          0        ---          0
    Export withdraws:            0        ---        ---        ---          0

device1  Device   master   up     17:40:42    
  Preference:     240
  Input filter:   ACCEPT
  Output filter:  REJECT
  Routes:         0 imported, 0 exported, 0 preferred
  Route change stats:     received   rejected   filtered    ignored   accepted
    Import updates:              0          0          0          0          0
    Import withdraws:            0          0        ---          0          0
    Export updates:              0          0          0        ---          0
    Export withdraws:            0        ---        ---        ---          0</pre></td></tr></table>
</div>
</div>
<h1 id="å®£å‘Š">å®£å‘Š</h1>

<p>å‰µå»ºè™›æ“¬ç¶²å¡ä¸¦åˆ†é…ip</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></pre></td>
<td class="lntd">
<pre class="chroma">    ip link add dev dummy1 type dummy
    ip link set dummy1 up
    ip addr add dev dummy1 2001:2333:2333::1/128</pre></td></tr></table>
</div>
</div>
<p>ç·¨è¼¯<strong>bird6.conf</strong>åŠ å…¥</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-protocol direct" data-lang="protocol direct"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-protocol direct" data-lang="protocol direct">    {
        interface &#34;dummy*&#34;;
        import all;
    }</code></pre></td></tr></table>
</div>
</div>
<p>ä¹‹å¾Œ
    service bird6 restart</p>

<p>é€™æ¨£ bird å°‡æŸ¥è©¢æ‰€æœ‰ dummy å¼€å¤´çš„ç½‘å¡çš„ ip å¹¶å®£å‘Šè¿™äº› ip
 <code>birdc6 show route</code> æŸ¥çœ‹</p>

<h1 id="åƒè€ƒ">åƒè€ƒ</h1>

<p><a href="https://blog.ni-co.moe/public/563.html" target="_blank">IP å¹¿æ’­ï¼šåœ¨ä¸å€ŸåŠ©ä½ çš„ ISP è¿›è¡Œä»»ä½•æ“ä½œçš„æƒ…å†µä¸‹ï¼Œå¹¿æ’­ (ç»„æ’­) ä½ çš„ IPv6</a>
<a href="https://blog.ni-co.moe/public/560.html" target="_blank">IP å¹¿æ’­ï¼šä½¿ç”¨ bird å¹¿æ’­ (ç»„æ’­) ipv6</a></p>]]></content>
            
            
            
            
            
                
                    
                
                    
                
            
        </entry>
    
        <entry>
            <title type="text">V2Rayä¸­è½‰</title>
            <link rel="alternate" type="text/html" href="https://blog.mrsheep.xyz/posts/v2ray-fw/" />
            <id>https://blog.mrsheep.xyz/posts/v2ray-fw/</id>
            <updated>2019-11-16T17:57:52+08:00</updated>
            <published>2019-05-10T16:51:13+08:00</published>
            <author>
                    <name>MrSheep</name>
                    <uri>https://blog.mrsheep.xyz</uri>
                    <email>admin@mrsheep.xyz</email>
                    </author>
            <rights>![CC BY-NC-SA 4.0](https://mirrors.creativecommons.org/presskit/buttons/88x31/svg/by-nc-sa.svg)  ![996 ICU](https://img.shields.io/badge/link-996.icu-red.svg)</rights><summary type="html"><![CDATA[åœ‹å…§åˆ°æˆ‘HEçš„å°æ©Ÿç·šè·¯å³°å€¼pingåé«˜ï¼Œä½†æ˜¯ipå¾ˆæ¸…çœŸï¼Œå‰›å¥½æˆ‘çš„HKå°æ©Ÿçš„ISPå’ŒHEæœ‰transit æ–¹æ¡ˆå¦‚ä¸‹
 ä½¿ç”¨UUID1éˆæ¥ä¸­è½‰æœå‹™å™¨ï¼Œå°‡æµé‡è·¯ç”±åˆ°#1æœå‹™å™¨ ä½¿ç”¨UUID2éˆæ¥ä¸­è½‰æœå‹™å™¨ï¼Œå°‡æµé‡è·¯ç”±åˆ°#2æœå‹™å™¨ ä½¿ç”¨UUID3éˆæ¥ä¸­è½‰æœå‹™å™¨ï¼Œç›´æ¥ä½¿ç”¨ç•¶å‰æœå‹™å™¨è¨ªå•]]></summary>
            
                <content type="html"><![CDATA[<p>åœ‹å…§åˆ°æˆ‘HEçš„å°æ©Ÿç·šè·¯å³°å€¼pingåé«˜ï¼Œä½†æ˜¯ipå¾ˆæ¸…çœŸï¼Œå‰›å¥½æˆ‘çš„HKå°æ©Ÿçš„ISPå’ŒHEæœ‰transit
æ–¹æ¡ˆå¦‚ä¸‹</p>

<ol>
<li>ä½¿ç”¨UUID1éˆæ¥ä¸­è½‰æœå‹™å™¨ï¼Œå°‡æµé‡è·¯ç”±åˆ°<code>#1</code>æœå‹™å™¨</li>
<li>ä½¿ç”¨UUID2éˆæ¥ä¸­è½‰æœå‹™å™¨ï¼Œå°‡æµé‡è·¯ç”±åˆ°<code>#2</code>æœå‹™å™¨</li>
<li>ä½¿ç”¨UUID3éˆæ¥ä¸­è½‰æœå‹™å™¨ï¼Œç›´æ¥ä½¿ç”¨ç•¶å‰æœå‹™å™¨è¨ªå•</li>
</ol>

<h1 id="æœå‹™å™¨é…ç½®">æœå‹™å™¨é…ç½®</h1>

<h3 id="æœ«ç«¯æœå‹™å™¨é…ç½®">æœ«ç«¯æœå‹™å™¨é…ç½®</h3>

<p>åƒè€ƒ<a href="https://blog.mrsheep.xyz/2019/09/15/WebServer-V2Ray/" target="_blank">Caddy/Nginx + V2Ray</a></p>

<h3 id="ä¸­è½‰æœå‹™å™¨">ä¸­è½‰æœå‹™å™¨</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json"><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json">  <span class="s2">&#34;log&#34;</span><span class="err">:</span> <span class="p">{</span>
    <span class="nt">&#34;access&#34;</span><span class="p">:</span> <span class="s2">&#34;/var/log/v2ray/access.log&#34;</span><span class="p">,</span>
    <span class="nt">&#34;error&#34;</span><span class="p">:</span> <span class="s2">&#34;/var/log/v2ray/error.log&#34;</span><span class="p">,</span>
    <span class="nt">&#34;loglevel&#34;</span><span class="p">:</span> <span class="s2">&#34;warnings&#34;</span>
  <span class="p">}</span><span class="err">,</span>
   <span class="s2">&#34;inbounds&#34;</span><span class="err">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&#34;port&#34;</span><span class="p">:</span> <span class="err">ç«¯å£</span><span class="p">,</span>
      <span class="nt">&#34;protocol&#34;</span><span class="p">:</span> <span class="s2">&#34;vmess&#34;</span><span class="p">,</span>
      <span class="nt">&#34;settings&#34;</span><span class="p">:{</span>
        <span class="nt">&#34;clients&#34;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="s2">&#34;UUID1&#34;</span><span class="p">,</span>
          <span class="nt">&#34;alterId&#34;</span><span class="p">:</span> <span class="mi">16</span><span class="p">,</span>
          <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;Email1ï¼ˆéš¨æ„å¯«ï¼‰&#34;</span>
        <span class="p">},</span>
        <span class="p">{</span>
          <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="s2">&#34;UUID2&#34;</span><span class="p">,</span>
          <span class="nt">&#34;alterId&#34;</span><span class="p">:</span> <span class="mi">16</span><span class="p">,</span>
          <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;Email2ï¼ˆéš¨æ„ï¼‰&#34;</span>
        <span class="p">},</span>
        <span class="p">{</span>
          <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="s2">&#34;UUID3&#34;</span><span class="p">,</span>
          <span class="nt">&#34;alterId&#34;</span><span class="p">:</span> <span class="mi">16</span><span class="p">,</span>
          <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;Email3ï¼ˆéš¨æ„ï¼‰&#34;</span>
        <span class="p">}</span>
      <span class="p">]</span>
    <span class="p">},</span>
    <span class="err">//éˆæ¥ä¸­è½‰æœå‹™å™¨çš„å”è­°çˆ²wss</span>
      <span class="nt">&#34;streamSettings&#34;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&#34;network&#34;</span><span class="p">:</span> <span class="s2">&#34;ws&#34;</span><span class="p">,</span>
        <span class="nt">&#34;security&#34;</span><span class="p">:</span> <span class="s2">&#34;auto&#34;</span><span class="p">,</span>
        <span class="nt">&#34;wsSettings&#34;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&#34;path&#34;</span><span class="p">:</span> <span class="s2">&#34;/ä½ çš„path/&#34;</span><span class="p">,</span>
          <span class="nt">&#34;connectionReuse&#34;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span>
          <span class="nt">&#34;headers&#34;</span><span class="p">:{</span>
            <span class="nt">&#34;Host&#34;</span><span class="p">:</span><span class="s2">&#34;åŸŸå&#34;</span><span class="p">,</span>
          <span class="p">}</span>
        <span class="p">},</span>
      <span class="nt">&#34;disableInsecureEncryption&#34;</span><span class="p">:</span> <span class="kc">true</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">]</span><span class="err">,</span>
  <span class="s2">&#34;outbound&#34;</span><span class="err">:</span><span class="p">{</span>
  <span class="err">//ä½¿ç”¨UUID3ï¼Œä¸é€²è¡Œä¸­è½‰</span>
      <span class="nt">&#34;protocol&#34;</span><span class="p">:</span> <span class="s2">&#34;freedom&#34;</span><span class="p">,</span>
      <span class="nt">&#34;settings&#34;</span><span class="p">:</span> <span class="p">{}</span>
    <span class="p">}</span><span class="err">,</span>
  <span class="s2">&#34;outboundDetour&#34;</span><span class="err">:</span> <span class="p">[</span>
    <span class="p">{</span>
    <span class="err">//ä½¿ç”¨UUID1ï¼Œè·¯ç”±è‡³ä¸‹ä¸€ç¯€é»ï¼Œä¸‹ä¸€ç¯€é»ä½¿ç”¨æ™®é€štcp</span>
      <span class="nt">&#34;protocol&#34;</span><span class="p">:</span> <span class="s2">&#34;vmess&#34;</span><span class="p">,</span>
      <span class="nt">&#34;settings&#34;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&#34;vnext&#34;</span><span class="p">:</span> <span class="p">[</span>
          <span class="p">{</span>
            <span class="nt">&#34;address&#34;</span><span class="p">:</span> <span class="s2">&#34;ä½ çš„ip&#34;</span><span class="p">,</span>
            <span class="nt">&#34;port&#34;</span><span class="p">:</span> <span class="err">ç«¯å£</span><span class="p">,</span>
            <span class="nt">&#34;users&#34;</span><span class="p">:</span> <span class="p">[</span>
              <span class="p">{</span>
                <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="s2">&#34;å’Œä¸‹ä¸€ç¯€é»ä¸€è‡´&#34;</span><span class="p">,</span>
                <span class="nt">&#34;alterId&#34;</span><span class="p">:</span> <span class="mi">16</span><span class="p">,</span>
                <span class="nt">&#34;security&#34;</span><span class="p">:</span> <span class="s2">&#34;auto&#34;</span>
              <span class="p">}</span>
            <span class="p">]</span>
          <span class="p">}</span>
        <span class="p">]</span>
      <span class="p">},</span>
      <span class="nt">&#34;streamSettings&#34;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&#34;network&#34;</span><span class="p">:</span> <span class="s2">&#34;tcp&#34;</span><span class="p">,</span>
        <span class="nt">&#34;security&#34;</span><span class="p">:</span> <span class="s2">&#34;none&#34;</span>
      <span class="p">},</span>
      <span class="nt">&#34;tag&#34;</span><span class="p">:</span> <span class="s2">&#34;tag1ä¹‹å¾Œæœƒç”¨åˆ°&#34;</span>
    <span class="p">},</span>
    <span class="err">//ä½¿ç”¨UUID</span><span class="mi">2</span><span class="err">ï¼Œè·¯ç”±è‡³ä¸‹ä¸€ç¯€é»ï¼Œæ¡ç”¨wss</span>
    <span class="p">{</span>
      <span class="nt">&#34;protocol&#34;</span><span class="p">:</span> <span class="s2">&#34;vmess&#34;</span><span class="p">,</span>
      <span class="nt">&#34;settings&#34;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&#34;vnext&#34;</span><span class="p">:</span> <span class="p">[</span>
          <span class="p">{</span>
            <span class="nt">&#34;address&#34;</span><span class="p">:</span> <span class="s2">&#34;åŸŸå&#34;</span><span class="p">,</span>
            <span class="nt">&#34;port&#34;</span><span class="p">:</span> <span class="mi">443</span><span class="p">,</span>
            <span class="nt">&#34;users&#34;</span><span class="p">:</span> <span class="p">[</span>
              <span class="p">{</span>
                <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="s2">&#34;å’Œä¸‹ä¸€ç¯€é»ä¸€è‡´&#34;</span><span class="p">,</span>
                <span class="nt">&#34;alterId&#34;</span><span class="p">:</span> <span class="mi">16</span><span class="p">,</span>
                <span class="nt">&#34;security&#34;</span><span class="p">:</span> <span class="s2">&#34;auto&#34;</span>
              <span class="p">}</span>
            <span class="p">]</span>
          <span class="p">}</span>
        <span class="p">]</span>
      <span class="p">},</span>
      <span class="nt">&#34;streamSettings&#34;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&#34;network&#34;</span><span class="p">:</span> <span class="s2">&#34;ws&#34;</span><span class="p">,</span>
        <span class="nt">&#34;security&#34;</span><span class="p">:</span> <span class="s2">&#34;tls&#34;</span><span class="p">,</span>
        <span class="nt">&#34;wsSettings&#34;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&#34;connectionReuse&#34;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span>
          <span class="nt">&#34;path&#34;</span><span class="p">:</span> <span class="s2">&#34;/ä½ çš„path/&#34;</span><span class="p">,</span>
          <span class="nt">&#34;headers&#34;</span><span class="p">:{</span>
            <span class="nt">&#34;Host&#34;</span><span class="p">:</span><span class="s2">&#34;åŸŸå&#34;</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="nt">&#34;tag&#34;</span><span class="p">:</span> <span class="s2">&#34;tag2ä¹‹å¾Œæœƒç”¨åˆ°ï¼Œå’Œä¸Šé¢çš„ä¸ä¸€æ¨£&#34;</span>
    <span class="p">}]</span><span class="err">,</span>
  <span class="s2">&#34;routing&#34;</span><span class="err">:</span> <span class="p">{</span>
  <span class="err">//è·¯ç”±ç­–ç•¥</span>
    <span class="nt">&#34;strategy&#34;</span><span class="p">:</span> <span class="s2">&#34;rules&#34;</span><span class="p">,</span>
    <span class="nt">&#34;settings&#34;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&#34;rules&#34;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;field&#34;</span><span class="p">,</span>
          <span class="nt">&#34;user&#34;</span><span class="p">:</span> <span class="s2">&#34;å’Œä¸Šé¢çš„Email1ä¸€è‡´&#34;</span><span class="p">,</span>
          <span class="nt">&#34;outboundTag&#34;</span><span class="p">:</span> <span class="s2">&#34;ä¸Šé¢å¯«çš„tag1&#34;</span>
        <span class="p">},</span>
        <span class="p">{</span>
          <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;field&#34;</span><span class="p">,</span>
          <span class="nt">&#34;user&#34;</span><span class="p">:</span> <span class="s2">&#34;å’Œä¸Šé¢çš„Email2ä¸€è‡´&#34;</span><span class="p">,</span>
          <span class="nt">&#34;outboundTag&#34;</span><span class="p">:</span> <span class="s2">&#34;ä¸Šé¢å¯«çš„tag2&#34;</span>
        <span class="p">}</span>
      <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="err">}</span></code></pre></td></tr></table>
</div>
</div>
<h3 id="client">Client</h3>

<p>é…ç½®ä¸åŒçš„uuidå³å¯</p>

<h1 id="åæ§½">åæ§½</h1>

<p>è‹±æ–‡å–®è©éœ€è¦åŠ s&hellip;</p>

<p>ä¸€å®šè¦è®°å¾—</p>

<h1 id="contribute">contribute</h1>

<p><a href="https://toutyrater.github.io/" target="_blank">V2Ray ç™½è¯æ–‡æ•™ç¨‹</a>
<a href="https://v2ray.com" target="_blank">Project V</a></p>]]></content>
            
            
            
            
            
                
                    
                
                    
                
            
        </entry>
    
</feed>